/*!CK:3337701875!*//*1437985616,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["rOLbf"]); }

__d("PlatformVersions",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={LATEST:"v2.5",versions:{UNVERSIONED:"unversioned",V1_0:"v1.0",V2_0:"v2.0",V2_1:"v2.1",V2_2:"v2.2",V2_3:"v2.3",V2_4:"v2.4",V2_5:"v2.5"}};},null);
__d("ChannelDefaults",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={LONGPOLL_TIMEOUT:60000,STALL_THRESHOLD:180000,MIN_RETRY_INTERVAL:5000,MAX_RETRY_INTERVAL:30000};},null);
__d("ChannelStateMap",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={pull:{ok:'pull!',error:'pull',error_missing:'pull',error_msg_type:'pull',clock_anomaly:'pull!',visible:'pull!',hidden:'idle!',refresh_0:'reconnect',refresh_110:'reconnect!',refresh_111:'reconnect',refresh_112:'pull',refresh_113:'pull',refresh_117:'reconnect'},reconnect:{ok:'pull!',error:'reconnect',clock_anomaly:'reconnect!',visible:'pull!',hidden:'idle!'},idle:{ok:'idle!',clock_anomaly:'idle!',visible:'pull!',hidden:'idle!'},shutdown:{clock_anomaly:'shutdown!',visible:'shutdown!',hidden:'shutdown!'}};},null);
__d("StateMachine",["setTimeoutAcrossTransitions","EventEmitter","ex"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=0;function k(p,q){"use strict";this.idx=j++;this.machine=p;this.asap=q&&q.substr(-1)=='!';this.name=this.asap?q.substr(0,q.length-1):q;this.progress=o.NEW;this.status=null;}k.prototype.enter=function(){"use strict";this.machine.enter_private(this);};k.prototype.exit=function(p){"use strict";this.machine.exit_private(this,p);};k.prototype.toString=function(){"use strict";return this.name+'('+this.progress+','+this.status+')';};var l='_ABORT_';for(var m in h)if(h.hasOwnProperty(m))o[m]=h[m];var n=h===null?null:h.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=h;function o(p,q){"use strict";h.call(this);this.$StateMachine0=p;this.$StateMachine1=q;this.$StateMachine2=0;this.$StateMachine3=[];this.$StateMachine4=Date.now();}o.prototype.$StateMachine5=function(p){"use strict";this.$StateMachine3.push((Date.now()-this.$StateMachine4)+': '+p);if(this.$StateMachine3.length>40)this.$StateMachine3=this.$StateMachine3.splice(-20);};o.prototype.getState=function(){"use strict";return this.$StateMachine6;};o.prototype.setDelay=function(p){"use strict";this.$StateMachine2=p||0;return this;};o.prototype.getDelay=function(){"use strict";return this.$StateMachine2;};o.prototype.enter=function(p){"use strict";this.enter_private(new k(this,p));};o.prototype.enter_private=function(p){"use strict";this.$StateMachine5('enter '+p+', '+this.$StateMachine6);if(this.$StateMachine6&&this.$StateMachine6!=p)this.$StateMachine6.exit(l);this.$StateMachine6=p;if(p.asap){delete p.asap;if(this.$StateMachine1.enter)this.$StateMachine1.enter(p);p.progress=o.ENTERED;}else{p.progress=o.PENDING;p.asap=true;p.$StateMachine7=g(function(){p.enter();},this.$StateMachine2);}this.emit(o.ENTER,p);};o.prototype.exit=function(p){"use strict";this.exit_private(this.$StateMachine6,p);};o.prototype.exit_private=function(p,q){"use strict";this.$StateMachine5('exit '+p+', '+q+', '+this.$StateMachine6);if(!p||p!=this.$StateMachine6)throw new Error(i('Invalid state: %s, history: %s',p,this.$StateMachine3.join('|')));if(p.progress==o.EXITED)return;p.status=q;p.progress=o.EXITED;if(p.$StateMachine7){clearInterval(p.$StateMachine7);p.$StateMachine7=null;}this.$StateMachine6=null;if(p&&this.$StateMachine1.exit)this.$StateMachine1.exit(p);p.exited=true;this.emit(o.EXIT,p);if(q!=l){var r=this.$StateMachine0[p.name];if(!r||!r[q])throw new Error(i('No exit for state:%s, status: %s',p.name,q));this.enter(r[q]);}};o.ENTER='enter';o.EXIT='exit';o.NEW='new';o.PENDING='pending';o.ENTERED='entered';o.EXITED='exited';e.exports=o;},null);
__d("rand32",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(){return Math.floor(Math.random()*4294967295);}e.exports=g;},null);
__d("MChannelManager",["Banzai","ChannelClientConfig","ChannelDefaults","ChannelStateMap","Clock","LogHistory","MLogger","MRequest","MURI","StateMachine","URI","Visibility","rand32","setTimeoutAcrossTransitions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();var u,v='ok',w='error',x='error_missing',y=60000,z=null,aa=null,ba=null,ca=null,da=null,ea=-1,fa=null,ga=0,ha=(Math.random()*2147483648|0).toString(16),ia=(Math.random()*2147483648|0).toString(16),ja={enter:function(sa){if(ca){ca.abort();ca=null;}switch(sa.name){case 'pull':if(!aa.uri)break;if(aa.disabled)break;var ta=new q(aa.uri),ua={channel:aa.user_channel,seq:ba,metid:ha,profile:'mobile',partition:aa.partition,sticky_token:ea,msgs_recv:ga,cb:s()};if(z.MTOUCH_SEND_CLIENT_ID)ua.clientid=ia;if(aa.chat_enabled)ua.state='active';if(fa)ua.sticky_pool=fa;if(aa.uid&&aa.viewerUid){ua.uid=aa.uid;ua.viewerUid=aa.viewerUid;}ca=(new n(ta+'')).setCORS(true).setMethod('GET').setData(ua).setRaw(true);ca.listen('open',function(wa){wa.getTransport().withCredentials=true;});ca.listen('done',function(wa){ma(sa,wa);});ca.listen('error',function(){ma(sa);});break;case 'reconnect':var va=new o('/a/channel/reconnect.php').setAsync(true);ca=(new n(va+'')).setMethod('GET');ca.listen('done',function(wa){la(sa,wa);});ca.listen('error',function(wa){wa.isHandled=true;la(sa);});break;default:}if(ca)ca.send();},exit:function(sa){if(sa.status==='ok'){if(sa.name==='pull')u.setDelay(0);}else if(!(sa.status==null)){var ta=u.getDelay();ta=ta>0?(ta*2):z.MIN_RETRY_INTERVAL;ta=Math.min(ta,z.MAX_RETRY_INTERVAL);u.setDelay(ta);}if(ca){ca.abort();ca=null;}}};function ka(sa){da=sa;}function la(sa,ta){if(!ta){m.warn('_onReconnectError: reconnect request error');sa.exit(w);}else if(ta.user_channel){aa=ta;ba=aa.seq;sa.exit(v);}else{m.warn('_onReconnectError: bad reconnect response - %s',JSON.stringify(ta));sa.exit(w);}}function ma(sa,ta){var ua=v;if(!ta){sa.exit(w);return;}switch(ta.t){case 'refresh':case 'refreshDelay':ua='refresh_'+(ta.reason||0);break;case 'fullReload':ua=h.fullReloadAsSuccess?v:x;break;case 'continue':break;case 'lb':var va=ta.lb_info;if(va){ea=va.sticky;var wa="http://";if(aa.is_secure_uri)wa="https://";if('pool' in va){fa=va.pool;}else aa.uri=wa+va.vip+'.facebook.com/pull';}else m.error('bad lb info from channel proxy');break;case 'msg':var xa=ta.seq-ta.ms.length;for(var ya=0;ya<ta.ms.length;ya++){var za=xa+ya;ga++;if(za>=ba){if(da)ta.ms[ya]=da(ta.ms[ya]);u.emit(u.CHANNEL_MESSAGE,ta.ms[ya]);}}break;case 'heartbeat':break;default:ua=w;if(g.isEnabled('mchannel_detailed_log')){m.warn('_onRequestSuccess: invalid channel response, resending request: %s',JSON.stringify(ta));}else m.warn('_onRequestSuccess: invalid channel response, sending request again.');break;}if('seq' in ta)ba=ta.seq;sa.exit(ua);}function na(){if(!u.xhrEnabled||z)return;z=Object.assign(i,h.config);aa=h.info;ba=aa.seq;k.addListener(k.ANOMALY,function(){u.exit('clock_anomaly');});r.addListener(r.HIDDEN,function(){u.exit('hidden');});r.addListener(r.VISIBLE,function(){u.exit('visible');});a.onbeforeunload=function(){if(ca)ca.abort();};if('sticky_token' in aa)ea=aa.sticky_token;oa();}function oa(){u.setDelay(z.MIN_RETRY_INTERVAL);u.enter(aa.uri?'pull!':'reconnect!');}u=new p(j,ja);u.startChannel=na;u.setTransform=ka;u.xhrEnabled=!!a.XMLHttpRequest;u.CHANNEL_MESSAGE='channel_message';var pa;function qa(){u.emit(p.ENTER,{name:'stall',progress:p.ENTERED});if(g.isEnabled('mchannel_jumpstart'))oa();}function ra(sa){l.getInstance('channel').log(sa.name,sa.status||sa.progress);if(sa.name!=='stall'){clearTimeout(pa);pa=t(qa,y);}}u.addListener(p.ENTER,ra);u.addListener(p.EXIT,ra);e.exports=u;},null);
__d("StrSet",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){"use strict";this.$StrSet0={};this.$StrSet1=0;if(h)this.addAll(h);}g.prototype.add=function(h){"use strict";if(!this.$StrSet0.hasOwnProperty(h)){this.$StrSet0[h]=true;this.$StrSet1++;}return this;};g.prototype.addAll=function(h){"use strict";h.forEach(this.add,this);return this;};g.prototype.remove=function(h){"use strict";if(this.$StrSet0.hasOwnProperty(h)){delete this.$StrSet0[h];this.$StrSet1--;}return this;};g.prototype.removeAll=function(h){"use strict";h.forEach(this.remove,this);return this;};g.prototype.toArray=function(){"use strict";return Object.keys(this.$StrSet0);};g.prototype.toMap=function(h){"use strict";var i={};Object.keys(this.$StrSet0).forEach(function(j){i[j]=typeof h=='function'?h(j):h||true;});return i;};g.prototype.contains=function(h){"use strict";return this.$StrSet0.hasOwnProperty(h);};g.prototype.count=function(){"use strict";return this.$StrSet1;};g.prototype.clear=function(){"use strict";this.$StrSet0={};this.$StrSet1=0;return this;};g.prototype.clone=function(){"use strict";return new g(this);};g.prototype.forEach=function(h,i){"use strict";Object.keys(this.$StrSet0).forEach(h,i);};g.prototype.map=function(h,i){"use strict";return Object.keys(this.$StrSet0).map(h,i);};g.prototype.some=function(h,i){"use strict";return Object.keys(this.$StrSet0).some(h,i);};g.prototype.every=function(h,i){"use strict";return Object.keys(this.$StrSet0).every(h,i);};g.prototype.filter=function(h,i){"use strict";return new g(Object.keys(this.$StrSet0).filter(h,i));};g.prototype.union=function(h){"use strict";return this.clone().addAll(h);};g.prototype.intersect=function(h){"use strict";return this.filter(function(i){return h.contains(i);});};g.prototype.difference=function(h){"use strict";return h.filter(function(i){return !this.contains(i);}.bind(this));};g.prototype.equals=function(h){"use strict";var i=function(m,n){return m===n?0:m<n?-1:1;},j=this.toArray(),k=h.toArray();if(j.length!==k.length)return false;var l=j.length;j=j.sort(i);k=k.sort(i);while(l--)if(j[l]!==k[l])return false;return true;};e.exports=g;},null);
__d("Layout.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g.createClass({displayName:"Layout",render:function(){var k=[],l=[],m=null;g.Children.forEach(this.props.children,function(o,p){if(!o)return;var q=m!==null,r=g.cloneElement(o,{className:i(o.props.className,((q?"_4bl8":''))),key:p});if(m===null){if(o.type===j.FillColumn){m=r;}else k.push(r);}else l.push(r);});l.reverse();var n=k.concat(l);if(m)n.push(m);return (g.createElement("div",g.__spread({},this.props,{className:i(this.props.className,'clearfix')}),n));}});j.Column=g.createClass({displayName:"Layout.Column",render:function(){return (g.createElement("div",g.__spread({},this.props,{className:i(this.props.className,"_4bl7")})));}});j.FillColumn=g.createClass({displayName:"Layout.FillColumn",render:function(){return (g.createElement("div",g.__spread({},this.props,{className:i(this.props.className,"_4bl9")})));}});e.exports=j;},null);
__d("xuiglyph",["ix"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(i){if(typeof i==='string')i={name:i};var j=Object.assign({name:(void 0),shade:'dark',size:'small'},i);return g.call(null,j.name+':'+j.shade+':'+j.size);}e.exports=h;},null);
__d("PlatformBaseVersioning",["PlatformVersions","getObjectValues","StrSet","invariant"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=new i(h(g.versions)),l=location.pathname,m=l.substring(1,l.indexOf('/',1)),n=k.contains(m)?m:g.versions.UNVERSIONED;function o(r,s){if(s==g.versions.UNVERSIONED)return r;j(k.contains(s));if(r.indexOf('/')!==0)r='/'+r;return '/'+s+r;}function p(r){if(k.contains(r.substring(1,r.indexOf('/',1))))return r.substring(r.indexOf('/',1));return r;}var q={addVersionToPath:o,getLatestVersion:function(){return g.LATEST;},versionAwareURI:function(r){return r.setPath(o(r.getPath(),n));},versionAwarePath:function(r){return o(r,n);},getUnversionedPath:p};e.exports=q;},null);
__d("PlatformWidgetEndpoint",["PlatformBaseVersioning"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(m,n){return g.versionAwarePath('/dialog'+'/'+m+(n?'/'+n:''));}function i(m,n){return g.versionAwarePath('/plugins'+'/'+m+(n?'/'+n:''));}function j(m){return (/^\/plugins\//).test(g.getUnversionedPath(m));}function k(m){return (/^\/dialog\//).test(g.getUnversionedPath(m));}var l={dialog:h,plugins:i,isPluginEndpoint:j,isDialogEndpoint:k};e.exports=l;},null);
__d("renderSubtreeIntoContainer",["ReactMount"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';e.exports=g.renderSubtreeIntoContainer;},null);
__d("ReactLayer",["React","ReactBrowserEventEmitter","SubscriptionsHandler","emptyFunction","getObjectValues","invariant","renderSubtreeIntoContainer"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n={componentDidMount:function(){this._layerContainer=document.createElement('div');this._renderContentIntoContainer();this.layer=this.createLayer(this._layerContainer);l(this.layer);this.layerSubscriptions=new i();this.layerSubscribe('show',function(){return this.props.onToggle&&this.props.onToggle(true);}.bind(this));this.layerSubscribe('hide',function(){return this.props.onToggle&&this.props.onToggle(false);}.bind(this));this.layerSubscribe('blur',function(){return this.props.onBlur&&this.props.onBlur();}.bind(this));this._resetBehaviors();},componentDidUpdate:function(p){this._renderContentIntoContainer();this.receiveProps(this.props,p);},componentWillUnmount:function(){g.unmountComponentAtNode(this._layerContainer);this._layerContainer=null;if(this.layer){this.layer.destroy();this.layer=null;}if(this.layerSubscriptions){this.layerSubscriptions.release();this.layerSubscriptions=null;}},_renderContentIntoContainer:function(){m(this,g.createElement("div",null,this.props.children),this._layerContainer);},render:function(){return null;},enumerateBehaviors:function(p){p=this.getEffectiveBehaviors(p);return k(p).filter(j.thatReturnsArgument);},_resetBehaviors:function(){this._diffBehaviors({},this.props.behaviors);},updateBehaviors:function(p,q){this._diffBehaviors(p,q);},_diffBehaviors:function(p,q){p=this.getEffectiveBehaviors(p);q=this.getEffectiveBehaviors(q);var r;for(r in p)if(!q[r])this.layer.disableBehavior(p[r]);for(r in q){var s=p[r],t=q[r];if(s&&t){l(s===t);continue;}s&&this.layer.disableBehavior(s);t&&this.layer.enableBehavior(t);}},getEffectiveBehaviors:function(p){if(!this.getDefaultEnabledBehaviors)return p||{};return Object.assign({},this.getDefaultEnabledBehaviors(),p);},layerSubscribe:function(p,q){var r=this.layer,s=r.subscribe||r.addListener;this.layerSubscriptions.addSubscriptions(s.call(r,p,function(t,u){h.isEnabled()&&q(t,u);}));}},o={createClass:function(p){return g.createClass({mixins:[n,p]});}};e.exports=o;},null);
__d("ReactLayeredComponentMixin",["ExecutionEnvironment","ReactInstanceMap","ReactCurrentOwner","React","ReactFragment","renderSubtreeIntoContainer"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m={componentWillMount:function(){if(g.canUseDOM)this._layersContainer=document.createElement('div');},componentDidMount:function(){this._renderLayersIntoContainer();},componentDidUpdate:function(){this._renderLayersIntoContainer();},componentWillUnmount:function(){j.unmountComponentAtNode(this._layersContainer);},_renderLayersIntoContainer:function(){i.current=h.get(this);var n;try{n=this.renderLayers();}finally{i.current=null;}if(n&&!Array.isArray(n)&&!j.isValidElement(n))n=k.create(n);l(this,j.createElement("div",null,n),this._layersContainer);}};e.exports=m;},null);
__d("MLink",["DOM","DataStore","ErrorUtils","MTabletLoader","MLinkHack","MLogger","MPageCache","MPageController","PlatformWidgetEndpoint","Stratcom","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r='standalone' in window.navigator&&window.navigator.standalone,s=false;function t(){if(s)return;s=true;g.listen(document.documentElement,'click',null,function(event){if(event.getPrevented())return;i.applyWithGuard(function(){var u=event.getNode('tag:a');if(!u)return;var v=event.getRawEvent();if(u.getAttribute('onclick')||(v.which||v.button)>=2)return;k.remove(u);var w=u.getAttribute('href'),x=new q(w),y=x.getProtocol();if(y&&y!='http'&&y!='https')return;var z=x.getDomain(),aa=w&&w.charAt(0),ba=!aa||/[\/#]/.test(aa),ca=x.getPort()?[z,x.getPort()].join(':'):z,da=ba||location.host===ca,ea=z&&!(/\.facebook.com$/i).test(z);if(ea&&!p.hasSigil(u,'MLinkshim'))l.mustfix('Loading an external URL without shimming: %s',w);var fa=u.getAttribute('target');if((fa=='_blank'||ea)&&r)return;if(fa=='_blank'){window.open(w,'_blank');}else if(j.isTabletFrame&&!da){j.MTabletLink.gotoURI(w);}else if(o.isDialogEndpoint(x.getPath())){return;}else if(fa||(y&&(y+':')!==location.protocol)||p.hasSigil(u,'no_mpc')||ea){window.location=w;}else if(w){if(w.indexOf('#')===0){var ga=document.getElementById(w.substr(1));ga&&ga.scrollIntoView();}else{var ha=h.get(u);if(ha.fromCache)m.setScrollHistory(w,0);n.load(w,{replace:ha.behavior==='replace-state',expiration:ha.fromCache?n.HISTORY_EXPIRE_MS:null});}}else{if(u.hasAttribute('data-sigil'))return;var ia='',ja=event.getTarget();while(ja&&ja!=document.body){ia=ia+' <'+ja.nodeName;if(ja.id)ia=ia+' id='+ja.id;if(ja.className)ia=ia+' class='+ja.className;ia=ia+' >';ja=ja.parentNode;}l.warn('handleClick: unknown link action: '+'<a id="%s" class="%s" /> Path: %s',u.id,u.className,ia);return;}event.prevent();},null,[],null,'LinkController');});}f.setupListener=t;},null);
__d("MobileZeroRewriteURL",["MChannelManager"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=null,i=null;function j(n){if(!n)return;h=n.regex_matcher;i=n.regex_replacer;for(var o=0;o<h.length;o++){var p=h[o];if(p.indexOf('^')===0)p=p.substr(1);var q=new RegExp(p,"i");h[o]=q;}g.setTransform(k);}function k(n){if(!n||!h)return n;l(n);return n;}function l(n){if(Array.isArray(n)){for(var o=0;o<n.length;o++)m(n,o);}else for(var p in n)if(n.hasOwnProperty(p))m(n,p);}function m(n,o){var p=n[o],q=typeof(p);if(q==="object"){l(p);}else if(q==="string"&&p.indexOf("<img")>=0){p=p.replace(/<img[^>]*>/gi,function(r){for(var s=0;s<h.length;s++){var t=h[s];if(t.test(r))return r.replace(t,i[s]);}return r;});n[o]=p;}}f.main=j;},null);