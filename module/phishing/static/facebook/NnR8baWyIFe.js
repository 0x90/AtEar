/*!CK:2268253682!*//*1438092849,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["MU+Kj"]); }

__d("ActorURIConfig",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={PARAMETER_ACTOR:"av"};},null);
__d("MComposerDataStoreKeys",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={COMPOSITION:"COMPOSITION",ON_CANCEL:"ON_CANCEL",ON_SUBMIT:"ON_SUBMIT"};},null);
__d("MComposerSigils",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ENTRY_TRIGGER_LEGACY:"show_composer",ENTRY_TRIGGER:"composer_entry_trigger"};},null);
__d("MComposerTypes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ACTIVITY:"activity",CHECKIN:"checkin",EDIT:"edit",GROUP_SELL:"group_sell",PHOTO:"photo",RECOMMENDATION:"recommendation",SHARE:"share",STATUS:"status"};},null);
__d("MCompositionConfigFields",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={OPENED_AT:"opened_at",SESSION_ID:"csid",ACTION:"action",COMPOSER_TITLE:"composertitle",COMPOSER_TYPE:"composer_type",INPUT_NAME:"inputname",PLACEHOLDER:"placeholder",BUTTON_TEXT_SUBMIT:"button_text_submit",TARGET_ID:"targetid",CANCEL_CONFIRMATION_MESSAGE:"cancel_confirm_message",POST_ID:"postid",DISABLE_MENTIONS:"disable_mentions",DISABLE_OG_TAG:"disable_og_tags",DISABLE_OG_TAG_PREVIEW:"disable_og_tags_preview",DISABLE_PEOPLE_TAGS:"disable_people_tags",DISABLE_PHOTOS:"disable_photos",DISABLE_ALBUM:"disable_album",DISABLE_PLACE_TAG:"disable_place_tag",DISABLE_PRIVACY:"disable_privacy",ACTOR_ID:"actor_id",DISABLE_SUBMIT_REQUEST:"disable_submit_request",FORCE_ASYNC:"forceasync",SYNC_SUBMIT:"syncsubmit",MAX_PHOTOS_ALLOWED:"max_photos_allowed",PIN_PLACE:"pinplace",PIN_PRIVACY:"pinprivacy",SHOW_POST_TYPE_SELECTOR:"showposttypeselector",CONTEXTUAL_MESSAGE:"contextualmessage",SKIP_FOCUS:"skip_focus",WITH_LINK_PROMPT:"withlinkprompt"};},null);
__d("MCompositionShareFields",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ID:"ID",APP_ID:"APP_ID",INTERNAL_EXTRA:"INTERNAL_EXTRA",FEEDBACK_SOURCE:"FEEDBACK_SOURCE",DISABLED_LINKS:"DISABLED_LINKS",SHARE_URI:"SHARE_URI"};},null);
__d("MCompositionStoreID",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={CONFIG:"CONFIG",GROUP_SELL:"GROUP_SELL",MINUTIAE:"MINUTIAE",PHOTO:"PHOTO",PLACE:"PLACE",SHARE:"SHARE",STATUS:"STATUS",WITH_TAGS:"WITH_TAGS",PRIVACY:"PRIVACY"};},null);
__d("MTaggingCounterEvent",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={GEO_PANEL_LOAD:"geo_panel_load",GEO_PANEL_ACCEPT:"geo_panel_accept",GEO_PANEL_DENY:"geo_panel_deny",GEO_PANEL_FAIL:"geo_panel_fail",GEO_PANEL_SUCCESS:"geo_panel_success",GEO_POPUP_LOAD:"geo_popup_load",GEO_POPUP_FAIL:"geo_popup_fail",GEO_POPUP_SUCCESS:"geo_popup_success"};},null);
__d("MFirefoxAppDetect",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i){if(!navigator.mozApps){i();return;}if(window.locationbar&&!window.locationbar.visible){h();return;}if(navigator.mozApps.getSelf){var j=navigator.mozApps.getSelf();j.onsuccess=function(){j.result?h():i();};j.onerror=i;}else i();}f.isFirefoxApp=g;},null);
__d("MPageHeaderLeft",["$","DOM","MFirefoxAppDetect"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={};function k(m){if(!j.back_button){var n=g('page');j.back_button=h.find(n,'a','back-button');j.menu_button=h.find(n,'a','menu-link');}if(m.show_back_button){h.hide(j.menu_button);h.show(j.back_button);}else{h.hide(j.back_button);h.show(j.menu_button);}}var l=function(m){var n=window.navigator;if(n.standalone||j.isMozApp){k(m);}else if(j.isMozApp===(void 0)){j.lastConfig=m;i.isFirefoxApp(function o(){j.isMozApp=true;if(m===j.lastConfig){l(m);delete j.lastConfig;}},function o(){j.isMozApp=false;});}};f.main=l;},null);
__d("MPageHeaderRight",["DOM","Stratcom"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(){return g.scry(document.body,'*','mChromeHeaderRight')[0];}f.setup=function(j){if(j){var k=i();if(k){g.setContent(k,j.node||'');h.listen('m:page:unload',null,function(event){h.removeCurrentListener();g.setContent(k,'');});}}};f.getChromeHeaderRightContent=function(){var j=i();return j?Array.prototype.slice.call(j.childNodes):null;};},null);
__d("MComposition",["MCompositionStoreID","invariant"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j){"use strict";var k=j||{};this.$MComposition0={};for(var l in k)this.setStoreData(l,k[l]);}i.prototype.serialize=function(){"use strict";return this.$MComposition0;};i.prototype.$MComposition1=function(j){"use strict";h(g.hasOwnProperty(j));};i.prototype.setStoreData=function(j,k){"use strict";this.$MComposition1(j);h(!this.$MComposition0.hasOwnProperty(j));this.$MComposition0[j]=k;return this;};e.exports=i;},null);
__d("XControllerURIBuilder",["URI","invariant"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j,k){"use strict";this.$XControllerURIBuilder0=j;this.$XControllerURIBuilder1=k;this.$XControllerURIBuilder2={};}i.prototype.setInt=function(j,k){"use strict";return this.__setParam(j,'Int',k);};i.prototype.setFloat=function(j,k){"use strict";return this.__setParam(j,'Float',k);};i.prototype.setString=function(j,k){"use strict";return this.__setParam(j,'String',k);};i.prototype.setExists=function(j,k){"use strict";if(k===false)k=(void 0);return this.__setParam(j,'Exists',k);};i.prototype.setBool=function(j,k){"use strict";return this.__setParam(j,'Bool',k);};i.prototype.setEnum=function(j,k){"use strict";return this.__setParam(j,'Enum',k);};i.prototype.setIntVector=function(j,k){"use strict";return this.__setParam(j,'IntVector',k);};i.prototype.setIntSet=function(j,k){"use strict";return this.__setParam(j,'IntSet',k.join(','));};i.prototype.setFloatVector=function(j,k){"use strict";return this.__setParam(j,'FloatVector',k);};i.prototype.setFloatSet=function(j,k){"use strict";return this.__setParam(j,'FloatSet',k.join(','));};i.prototype.setStringVector=function(j,k){"use strict";return this.__setParam(j,'StringVector',k);};i.prototype.setStringSet=function(j,k){"use strict";return this.__setParam(j,'StringSet',k);};i.prototype.setEnumVector=function(j,k){"use strict";return this.__setParam(j,'EnumVector',k);};i.prototype.setEnumSet=function(j,k){"use strict";return this.__setParam(j,'EnumSet',k);};i.prototype.setIntToIntMap=function(j,k){"use strict";return this.__setParam(j,'IntToIntMap',k);};i.prototype.setIntToFloatMap=function(j,k){"use strict";return this.__setParam(j,'IntToFloatMap',k);};i.prototype.setIntToStringMap=function(j,k){"use strict";return this.__setParam(j,'IntToStringMap',k);};i.prototype.setIntToBoolMap=function(j,k){"use strict";return this.__setParam(j,'IntToBoolMap',k);};i.prototype.setStringToIntMap=function(j,k){"use strict";return this.__setParam(j,'StringToIntMap',k);};i.prototype.setStringToFloatMap=function(j,k){"use strict";return this.__setParam(j,'StringToFloatMap',k);};i.prototype.setStringToStringMap=function(j,k){"use strict";return this.__setParam(j,'StringToStringMap',k);};i.prototype.setStringToBoolMap=function(j,k){"use strict";return this.__setParam(j,'StringToBoolMap',k);};i.prototype.setHackType=function(j,k){"use strict";return this.__setParam(j,'HackType',k);};i.prototype.__validateRequiredParamsExistence=function(){"use strict";for(var j in this.$XControllerURIBuilder1)h(!this.$XControllerURIBuilder1[j].required||this.$XControllerURIBuilder2.hasOwnProperty(j));};i.prototype.__setParam=function(j,k,l){"use strict";h(j in this.$XControllerURIBuilder1);var m=this.$XControllerURIBuilder1[j].type;h(m===k);this.__setParamInt(j,l);return this;};i.prototype.__setParamInt=function(j,k){"use strict";this.$XControllerURIBuilder2[j]=k;};i.prototype.getURI=function(){"use strict";this.__validateRequiredParamsExistence();var j={},k='',l=/^\{(\?)?(\*)?(.+?)\}$/,m=this.$XControllerURIBuilder0.split('/'),n=false;for(var o=0;o<m.length;o++){var p=m[o];if(p==='')continue;var q=l.exec(p);if(!q){k+='/'+p;}else{var r=q[1]==='?',s=q[3],t=this.$XControllerURIBuilder1[s];h(t);if(r&&n)continue;var u=this.$XControllerURIBuilder2[s];if(u==null&&r){n=true;continue;}h(u!=null);k+='/'+u;j[s]=true;}}if(this.$XControllerURIBuilder0.slice(-1)==='/')k+='/';var v=new g();v.setPath(k);for(t in this.$XControllerURIBuilder2){u=this.$XControllerURIBuilder2[t];if(!j[t]&&u!=null){var w=this.$XControllerURIBuilder1[t];v.addQueryData(t,w&&w.type==='Exists'?null:u);}}return v;};i.create=function(j,k){return i.bind(null,j,k);};e.exports=i;},null);
__d("XRequest",["invariant"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=function(j,k,l){var m;switch(j){case 'Bool':m=(k&&k!=='false')||false;break;case 'Int':m=parseInt(k,10);g(!isNaN(m));break;case 'Float':m=parseFloat(k,10);g(!isNaN(m));break;case 'String':m=k.toString();break;case 'Enum':if(l===0){m=h('Int',k,null);}else if(l===1){m=h('String',k,null);}else if(l===2){m=k;}else g(false);break;default:var n,o,p,q;if((n=/^Nullable(\w+)$/.exec(j))){if(k===null){m=null;}else m=h(n[1],k,l);}else if((o=/^(\w+)Vector$/.exec(j))){if(!Array.isArray(k)){m=k.toString();m=m===''?[]:m.split(',');}else m=k;var r=o[1];g(typeof r==='string');m=m.map(function(u){return h(r,u,l&&l.member);});}else if((p=/^(\w+)Set$/.exec(j))){if(!Array.isArray(k)){m=k.toString();m=m===''?[]:m.split(',');}else m=k;m=m.reduce(function(u,v){u[v]=v;return u;},{});r=p[1];g(typeof r==='string');m=Object.keys(m).map(function(u){return h(r,m[u],l&&l.member);});}else if((q=/^(\w+)To(\w+)Map$/.exec(j))){m={};var s=q[1],t=q[2];g(typeof s==='string'&&typeof t==='string');Object.keys(k).forEach(function(u){m[h(s,u,l&&l.key)]=h(t,k[u],l&&l.value);});}else g(false);}return m;};function i(j,k,l){"use strict";this.$XRequest0=k;this.$XRequest1=Object.assign({},l.getQueryData());var m=j.split("/").filter(function(s){return s;}),n=l.getPath().split("/").filter(function(s){return s;});for(var o=0;o<m.length;++o){var p=/^\{(\?)?(\w+)\}$/.exec(m[o]);if(!p){g(m[o]===n[o]);continue;}var q=!!p[1],r=p[2];g(this.$XRequest0.hasOwnProperty(r));if(this.$XRequest0[r].required){g(!q);this.$XRequest1[r]=n[o];}else{g(q);if(n[o])this.$XRequest1[r]=n[o];}}Object.keys(this.$XRequest0).forEach(function(s){g(!this.$XRequest0[s].required||this.$XRequest1.hasOwnProperty(s));},this);}i.prototype.getExists=function(j){"use strict";return this.$XRequest1[j]!==(void 0);};i.prototype.getBool=function(j){"use strict";return this.$XRequest2(j,'Bool');};i.prototype.getInt=function(j){"use strict";return this.$XRequest2(j,'Int');};i.prototype.getFloat=function(j){"use strict";return this.$XRequest2(j,'Float');};i.prototype.getString=function(j){"use strict";return this.$XRequest2(j,'String');};i.prototype.getEnum=function(j){"use strict";return this.$XRequest2(j,'Enum');};i.prototype.getOptionalInt=function(j){"use strict";return this.$XRequest3(j,'Int');};i.prototype.getOptionalFloat=function(j){"use strict";return this.$XRequest3(j,'Float');};i.prototype.getOptionalString=function(j){"use strict";return this.$XRequest3(j,'String');};i.prototype.getOptionalEnum=function(j){"use strict";return this.$XRequest3(j,'Enum');};i.prototype.getIntVector=function(j){"use strict";return this.$XRequest2(j,'IntVector');};i.prototype.getFloatVector=function(j){"use strict";return this.$XRequest2(j,'FloatVector');};i.prototype.getStringVector=function(j){"use strict";return this.$XRequest2(j,'StringVector');};i.prototype.getEnumVector=function(j){"use strict";return this.$XRequest2(j,'EnumVector');};i.prototype.getOptionalIntVector=function(j){"use strict";return this.$XRequest3(j,'IntVector');};i.prototype.getOptionalFloatVector=function(j){"use strict";return this.$XRequest3(j,'FloatVector');};i.prototype.getOptionalStringVector=function(j){"use strict";return this.$XRequest3(j,'StringVector');};i.prototype.getOptionalEnumVector=function(j){"use strict";return this.$XRequest3(j,'EnumVector');};i.prototype.getIntSet=function(j){"use strict";return this.$XRequest2(j,'IntSet');};i.prototype.getStringSet=function(j){"use strict";return this.$XRequest2(j,'StringSet');};i.prototype.getOptionalIntSet=function(j){"use strict";return this.$XRequest3(j,'IntSet');};i.prototype.getOptionalStringSet=function(j){"use strict";return this.$XRequest3(j,'StringSet');};i.prototype.getEnumToBoolMap=function(j){"use strict";return this.$XRequest2(j,'EnumToBoolMap');};i.prototype.getEnumToEnumMap=function(j){"use strict";return this.$XRequest2(j,'EnumToEnumMap');};i.prototype.getEnumToFloatMap=function(j){"use strict";return this.$XRequest2(j,'EnumToFloatMap');};i.prototype.getEnumToIntMap=function(j){"use strict";return this.$XRequest2(j,'EnumToIntMap');};i.prototype.getEnumToStringMap=function(j){"use strict";return this.$XRequest2(j,'EnumToStringMap');};i.prototype.getIntToBoolMap=function(j){"use strict";return this.$XRequest2(j,'IntToBoolMap');};i.prototype.getIntToEnumMap=function(j){"use strict";return this.$XRequest2(j,'IntToEnumMap');};i.prototype.getIntToFloatMap=function(j){"use strict";return this.$XRequest2(j,'IntToFloatMap');};i.prototype.getIntToIntMap=function(j){"use strict";return this.$XRequest2(j,'IntToIntMap');};i.prototype.getIntToStringMap=function(j){"use strict";return this.$XRequest2(j,'IntToStringMap');};i.prototype.getStringToBoolMap=function(j){"use strict";return this.$XRequest2(j,'StringToBoolMap');};i.prototype.getStringToEnumMap=function(j){"use strict";return this.$XRequest2(j,'StringToEnumMap');};i.prototype.getStringToFloatMap=function(j){"use strict";return this.$XRequest2(j,'StringToFloatMap');};i.prototype.getStringToIntMap=function(j){"use strict";return this.$XRequest2(j,'StringToIntMap');};i.prototype.getStringToStringMap=function(j){"use strict";return this.$XRequest2(j,'StringToStringMap');};i.prototype.getOptionalEnumToBoolMap=function(j){"use strict";return this.$XRequest3(j,'EnumToBoolMap');};i.prototype.getOptionalEnumToEnumMap=function(j){"use strict";return this.$XRequest3(j,'EnumToEnumMap');};i.prototype.getOptionalEnumToFloatMap=function(j){"use strict";return this.$XRequest3(j,'EnumToFloatMap');};i.prototype.getOptionalEnumToIntMap=function(j){"use strict";return this.$XRequest3(j,'EnumToIntMap');};i.prototype.getOptionalEnumToStringMap=function(j){"use strict";return this.$XRequest3(j,'EnumToStringMap');};i.prototype.getOptionalIntToBoolMap=function(j){"use strict";return this.$XRequest3(j,'IntToBoolMap');};i.prototype.getOptionalIntToEnumMap=function(j){"use strict";return this.$XRequest3(j,'IntToEnumMap');};i.prototype.getOptionalIntToFloatMap=function(j){"use strict";return this.$XRequest3(j,'IntToFloatMap');};i.prototype.getOptionalIntToIntMap=function(j){"use strict";return this.$XRequest3(j,'IntToIntMap');};i.prototype.getOptionalIntToStringMap=function(j){"use strict";return this.$XRequest3(j,'IntToStringMap');};i.prototype.getOptionalStringToBoolMap=function(j){"use strict";return this.$XRequest3(j,'StringToBoolMap');};i.prototype.getOptionalStringToEnumMap=function(j){"use strict";return this.$XRequest3(j,'StringToEnumMap');};i.prototype.getOptionalStringToFloatMap=function(j){"use strict";return this.$XRequest3(j,'StringToFloatMap');};i.prototype.getOptionalStringToIntMap=function(j){"use strict";return this.$XRequest3(j,'StringToIntMap');};i.prototype.getOptionalStringToStringMap=function(j){"use strict";return this.$XRequest3(j,'StringToStringMap');};i.prototype.getEnumToNullableEnumMap=function(j){"use strict";return this.$XRequest2(j,'EnumToNullableEnumMap');};i.prototype.getEnumToNullableFloatMap=function(j){"use strict";return this.$XRequest2(j,'EnumToNullableFloatMap');};i.prototype.getEnumToNullableIntMap=function(j){"use strict";return this.$XRequest2(j,'EnumToNullableIntMap');};i.prototype.getEnumToNullableStringMap=function(j){"use strict";return this.$XRequest2(j,'EnumToNullableStringMap');};i.prototype.getIntToNullableEnumMap=function(j){"use strict";return this.$XRequest2(j,'IntToNullableEnumMap');};i.prototype.getIntToNullableFloatMap=function(j){"use strict";return this.$XRequest2(j,'IntToNullableFloatMap');};i.prototype.getIntToNullableIntMap=function(j){"use strict";return this.$XRequest2(j,'IntToNullableIntMap');};i.prototype.getIntToNullableStringMap=function(j){"use strict";return this.$XRequest2(j,'IntToNullableStringMap');};i.prototype.getStringToNullableEnumMap=function(j){"use strict";return this.$XRequest2(j,'StringToNullableEnumMap');};i.prototype.getStringToNullableFloatMap=function(j){"use strict";return this.$XRequest2(j,'StringToNullableFloatMap');};i.prototype.getStringToNullableIntMap=function(j){"use strict";return this.$XRequest2(j,'StringToNullableIntMap');};i.prototype.getStringToNullableStringMap=function(j){"use strict";return this.$XRequest2(j,'StringToNullableStringMap');};i.prototype.getOptionalEnumToNullableEnumMap=function(j){"use strict";return this.$XRequest3(j,'EnumToNullableEnumMap');};i.prototype.getOptionalEnumToNullableFloatMap=function(j){"use strict";return this.$XRequest3(j,'EnumToNullableFloatMap');};i.prototype.getOptionalEnumToNullableIntMap=function(j){"use strict";return this.$XRequest3(j,'EnumToNullableIntMap');};i.prototype.getOptionalEnumToNullableStringMap=function(j){"use strict";return this.$XRequest3(j,'EnumToNullableStringMap');};i.prototype.getOptionalIntToNullableEnumMap=function(j){"use strict";return this.$XRequest3(j,'IntToNullableEnumMap');};i.prototype.getOptionalIntToNullableFloatMap=function(j){"use strict";return this.$XRequest3(j,'IntToNullableFloatMap');};i.prototype.getOptionalIntToNullableIntMap=function(j){"use strict";return this.$XRequest3(j,'IntToNullableIntMap');};i.prototype.getOptionalIntToNullableStringMap=function(j){"use strict";return this.$XRequest3(j,'IntToNullableStringMap');};i.prototype.getOptionalStringToNullableEnumMap=function(j){"use strict";return this.$XRequest3(j,'StringToNullableEnumMap');};i.prototype.getOptionalStringToNullableFloatMap=function(j){"use strict";return this.$XRequest3(j,'StringToNullableFloatMap');};i.prototype.getOptionalStringToNullableIntMap=function(j){"use strict";return this.$XRequest3(j,'StringToNullableIntMap');};i.prototype.getOptionalStringToNullableStringMap=function(j){"use strict";return this.$XRequest3(j,'StringToNullableStringMap');};i.prototype.$XRequest2=function(j,k){"use strict";this.$XRequest4(j,k);var l=this.$XRequest0[j];if(!this.$XRequest1.hasOwnProperty(j)&&l.defaultValue){g(!l.required);return h(k,l.defaultValue,l.enumType);}g(l.required||k==='Bool'||l.defaultValue!=null);return h(k,this.$XRequest1[j],l.enumType);};i.prototype.$XRequest3=function(j,k){"use strict";this.$XRequest4(j,k);var l=this.$XRequest0[j];g(!l.required);g(!l.defaultValue);if(this.$XRequest1.hasOwnProperty(j))return h(k,this.$XRequest1[j],l.enumType);return null;};i.prototype.$XRequest4=function(j,k){"use strict";g(this.$XRequest0.hasOwnProperty(j));g(this.$XRequest0[j].type===k);};e.exports=i;},null);
__d("XController",["XControllerURIBuilder","XRequest"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j,k){"use strict";this.$XController0=j;this.$XController1=k;}i.prototype.getURIBuilder=function(j){"use strict";var k=new g(this.$XController0,this.$XController1);if(j){var l=this.getRequest(j);Object.keys(this.$XController1).forEach(function(m){var n=this.$XController1[m],o='';if(!n.required&&!n.hasOwnProperty('defaultValue'))o='Optional';var p='get'+o+n.type,q=l[p](m);if(q==null||(n.hasOwnProperty('defaultValue')&&q===n.defaultValue))return;var r='set'+n.type;k[r](m,q);},this);}return k;};i.prototype.getRequest=function(j){"use strict";return new h(this.$XController0,this.$XController1,j);};i.create=function(j,k){"use strict";return new i(j,k);};e.exports=i;},null);
__d("XTaggingCounterController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/composer\/tagging\/counter\/",{event:{type:"Enum",required:true,enumType:1}});},null);
__d("MTaggingCounter",["AsyncSignal","XTaggingCounterController"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={logEvent:function(event,j){var k=h.getURIBuilder().setEnum('event',event).getURI();(new g(k)).send();}};e.exports=i;},null);
__d("MComposerPresence",["DataStore","DOM","EventEmitter","$","invariant"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l='REGISTERED',m=null,n=new i(),o={addRegistrationListener:function(p){return n.addListener(l,p);},hasRegisteredInstance:function(){return !!m;},hasLoadedPrivacyValue:function(p){if(!this.hasRegisteredInstance())return false;return h.scry(h.find(j('static_templates'),'div','composer-main-view'),'tr','privacy-option').some(function(q){return g.get(q).value===p;});},register:function(p){k(!m);m=p;n.emit(l);},unregister:function(p){k(m===p);m=null;}};e.exports=o;},null);
__d("XComposerAsyncLoaderController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/composer\/async_loader\/",{targetid:{type:"Int"}});},null);
__d("MComposerAsyncLoadRequest",["MComposerPresence","MRequest","Promise","XComposerAsyncLoaderController"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();function k(){"use strict";this.$MComposerAsyncLoadRequest0=null;this.$MComposerAsyncLoadRequest1=null;this.$MComposerAsyncLoadRequest2=null;}k.prototype.$MComposerAsyncLoadRequest3=function(){"use strict";if(this.$MComposerAsyncLoadRequest0){this.$MComposerAsyncLoadRequest0.remove();this.$MComposerAsyncLoadRequest0=null;}if(this.$MComposerAsyncLoadRequest2){this.$MComposerAsyncLoadRequest2.abort();this.$MComposerAsyncLoadRequest2=null;}};k.prototype.$MComposerAsyncLoadRequest4=function(){"use strict";return new i(function(l,m){this.$MComposerAsyncLoadRequest0=g.addRegistrationListener(l);this.$MComposerAsyncLoadRequest2=new h(j.getURIBuilder().getURI());this.$MComposerAsyncLoadRequest2.listen('fail',m);this.$MComposerAsyncLoadRequest2.send();}.bind(this));};k.prototype.send=function(){"use strict";if(!this.$MComposerAsyncLoadRequest1){this.$MComposerAsyncLoadRequest1=this.$MComposerAsyncLoadRequest4();this.$MComposerAsyncLoadRequest1['finally'](function(){return this.$MComposerAsyncLoadRequest3();}.bind(this));}return this.$MComposerAsyncLoadRequest1;};e.exports=k;},null);
__d("MComposerEntry",["DataStore","ErrorUtils","LoadingIndicator","MComposerAsyncLoadRequest","MComposerDataStoreKeys","MComposerPresence","MComposerSigils","MComposition","Promise","Stratcom"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q=new o(function(aa,ba){return ba();}),r=new o(function(aa){return aa();}),s=h.guard(function(aa){if(aa)throw aa;},'MComposerEntry');function t(event){if(y)return;z.invoke(new n(g.get(event.getNode(m.ENTRY_TRIGGER))[k.COMPOSITION]));}function u(aa){y=true;var ba=null;if(l.hasRegisteredInstance()){ba=x(aa);}else ba=w(aa).then(function(){return x(aa);},s);ba['finally'](function(){return y=false;});return ba;}function v(){if(l.hasRegisteredInstance())return r;return new j().send();}function w(aa){i.show();var ba=v(aa);ba['finally'](function(){return i.hide();});return ba;}function x(aa){return new o(function(ba,ca){var da={};da[k.COMPOSITION]=aa.serialize();da[k.ON_CANCEL]=ca;da[k.ON_SUBMIT]=ba;p.invoke('MComposer:entry:js',null,da);});}var y=false;p.listen('click',m.ENTRY_TRIGGER,t);p.listen('m:page:unload',null,function(){y=false;});var z={invoke:function(aa){if(y)return q;return u(aa||new n());}};e.exports=z;},null);
__d("ActorURI",["ActorURIConfig","URI"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={create:function(j,k){return (new h(j)).addQueryData(g.PARAMETER_ACTOR,k);}};i.PARAMETER_ACTOR=g.PARAMETER_ACTOR;e.exports=i;},null);
__d("BehaviorsMixin",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(k){this._behavior=k;this._enabled=false;}Object.assign(g.prototype,{enable:function(){if(!this._enabled){this._enabled=true;this._behavior.enable();}},disable:function(){if(this._enabled){this._enabled=false;this._behavior.disable();}}});var h=1;function i(k){if(!k.__BEHAVIOR_ID)k.__BEHAVIOR_ID=h++;return k.__BEHAVIOR_ID;}var j={enableBehavior:function(k){if(!this._behaviors)this._behaviors={};var l=i(k);if(!this._behaviors[l])this._behaviors[l]=new g(new k(this));this._behaviors[l].enable();return this;},disableBehavior:function(k){if(this._behaviors){var l=i(k);if(this._behaviors[l])this._behaviors[l].disable();}return this;},enableBehaviors:function(k){k.forEach(this.enableBehavior,this);return this;},destroyBehaviors:function(){if(this._behaviors){for(var k in this._behaviors)this._behaviors[k].disable();this._behaviors={};}},hasBehavior:function(k){return this._behaviors&&(i(k) in this._behaviors);}};e.exports=j;},null);
__d("Parent",["CSSCore"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={byTag:function(i,j){j=j.toUpperCase();while(i&&i.nodeName!==j)i=i.parentNode;return i;},byClass:function(i,j){while(i&&!g.hasClass(i,j))i=i.parentNode;return i;},byAttribute:function(i,j){while(i&&(!i.getAttribute||!i.getAttribute(j)))i=i.parentNode;return i;}};e.exports=h;},null);
__d("flattenArray",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){var i=h.slice(),j=[];while(i.length){var k=i.pop();if(Array.isArray(k)){Array.prototype.push.apply(i,k);}else j.push(k);}return j.reverse();}e.exports=g;},null);
__d("mixin",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i,j,k,l,m,n,o,p,q,r){var s=function(){},t=[h,i,j,k,l,m,n,o,p,q],u=0,v;while(t[u]){v=t[u];for(var w in v)if(v.hasOwnProperty(w))s.prototype[w]=v[w];u+=1;}return s;}e.exports=g;},null);
__d("Locale",["Style","ExecutionEnvironment"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i;function j(){if(!h.canUseDOM){i=false;}else if(i===(void 0))i=('rtl'===g.get(document.body,'direction'));return i;}var k={isRTL:j};e.exports=k;},null);
__d("JSXDOM",["DOM","flattenArray"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=['a','blockquote','br','button','canvas','checkbox','dd','div','dl','dt','em','form','h1','h2','h3','h4','h5','h6','hr','i','iframe','img','input','label','li','option','p','pre','select','span','strong','table','tbody','thead','td','textarea','th','tr','ul','video'],j={};i.forEach(function(k){var l=function(m,n){if(arguments.length>2)n=Array.prototype.slice.call(arguments,1);if(!n&&m){n=m.children;delete m.children;}if(n)n=Array.isArray(n)?h(n):h([n]);return g.create(k,m,n);};j[k]=l;});e.exports=j;},null);
__d("SubscriptionsHandler",["invariant"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(k){return k.remove||k.reset||k.unsubscribe;}function i(k){var l=h(k);l.call(k);}function j(){"use strict";this._subscriptions=[];}j.prototype.addSubscriptions=function(){"use strict";for(var k=[],l=0,m=arguments.length;l<m;l++)k.push(arguments[l]);k.forEach(function(n){var o=h(n);g(o);});if(this._subscriptions){this._subscriptions=this._subscriptions.concat(k);}else k.forEach(i);};j.prototype.engage=function(){"use strict";this._subscriptions=this._subscriptions||[];};j.prototype.release=function(){"use strict";if(this._subscriptions){this._subscriptions.forEach(i);this._subscriptions=null;}};e.exports=j;},null);
__d("throttle",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(i,j,k){return h(i,j,k,false,false);}Object.assign(g,{acrossTransitions:function(i,j,k){return h(i,j,k,true,false);},withBlocking:function(i,j,k){return h(i,j,k,false,true);},acrossTransitionsWithBlocking:function(i,j,k){return h(i,j,k,true,true);}});function h(i,j,k,l,m){if(j==null)j=100;var n,o,p=null,q=function(){o=Date.now();if(n){i.apply(k,n);n=null;p=setTimeout(q,j,!l);}else p=null;};q.__SMmeta=i.__SMmeta;return function r(){n=arguments;if(p===null||(Date.now()-o>j))if(m){q();}else p=setTimeout(q,0,!l);};}e.exports=g;},null);
__d("MFriendingActionError",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={CONFIRM_INCOMING_REQUEST_ERROR:'confirm_incomming_request_error',DELETE_INCOMING_REQUEST_ERROR:'delete_incomming_request_error',SEND_OUTGOING_REQUEST_ERROR:'send_outgoing_request_error',CANCEL_OUTGOING_REQUEST_ERROR:'cancel_outgoing_request_error'};},null);
__d("AppRequestLogger",["MCache"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={setLastApp:function(i){var j=g.getItem('appEventList')||[];j.push({app_id:i,time:Math.round(Date.now()/1000),event_type:'request_accept'});g.setItem('appEventList',j);}};e.exports=h;},null);
__d("csx",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){throw new Error('csx: Unexpected class selector transformation.');}e.exports=g;},null);
__d("MPageTitle",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();f.setTitle=function(g){document.title=g;};},null);
__d("MInputFocus",["setTimeoutAcrossTransitions","DOM","MJSEnvironment","MViewport"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k={scrollTo:function(l,m){if(i.IS_APPLE_WEBKIT_IOS&&parseInt(i.OS_VERSION,10)>=6){h.hide(l);j.scrollTo(0,m);g(function(){h.show(l);l.setSelectionRange(l.selectionEnd,l.selectionEnd);},0);}else j.scrollTo(0,m);}};e.exports=k;},null);
__d("prefetchImage",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i){var j=new Image();j.onload=i;j.src=h;}e.exports=g;},null);
__d("MPhotoStage",["setTimeoutAcrossTransitions","CSS","cx","DOM","Stratcom","Vector","DataStore","MURI","MRequest","MViewport","MInputFocus","MJSEnvironment","prefetchImage"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();var t=false,u='photo-stage',v='photo-image',w='facebox',x='new-tag-placeholder',y='photos-input-tag',z='photo-tag-loading',aa='popup-nub',ba='tokenizer-input',ca='transfer-focus-container',da=2000,ea=200,fa=null,ga=null,ha=null,ia=null;function ja(ra,sa,ta){var ua=0,va=p.getUseableWidth();if(ta>va){ua=ta-va;}else if(sa<0)ua=sa;if(ua===0)return ra;return new l(ra.x-ua,ra.y);}function ka(ra){if(!ra)return;h.conditionClass(ra,"_57-n",!!ha);if(ha){clearTimeout(ha);ha=null;}else ha=g(function(){ka(ra);},da);}function la(){fa=null;while(ia.length)(ia.pop()).remove();t=false;if(ha){clearTimeout(ha);ha=null;}}function ma(ra){var sa=l.getPos(ra),ta=l.getDim(ra),ua=l.getPos(fa),va=new l(sa.x+ta.x/2,sa.y+ta.x-ua.y),wa=j.find(fa,'*',z);va.setPos(wa);j.show(wa);}function na(ra,sa,ta){var ua=new n(ra.write_tag_uri);ua.addQueryData('id',ra.owner_id);ua.addQueryData('facebox_id',sa.facebox_id);ua.addQueryData('replace_id',x);ua.addQueryData('sd_source',ra.source);ua.addQueryData('sd_set',ra.set);var va={};va['ids['+ta+']']=ta;va['x['+ta+']']=sa.facebox_center.x;va['y['+ta+']']=sa.facebox_center.y;var wa=(new o(ua.normalize().setAsync(true).toString())).addData(va);return wa;}function oa(ra,sa){ga=ra;var ta=j.find(fa,'*',y),ua=l.getPos(fa),va=l.getPos(ra),wa=l.getDim(ra),xa=new l(va.x+wa.x/2,va.y+wa.y-ua.y),ya=ja(xa,xa.x-ea/2,xa.x+ea/2),za=j.find(ta,'*',aa);za.style.left=(xa.x-ya.x)+"px";var ab=m.get(ga);if(ab.suggestions)sa.tokenizer.updateSuggestionsIds(ab.suggestions);ya.setPos(ta);j.show(ta);var bb=j.find(ta,'*',ba);bb.focus();q.scrollTo(bb,va.y);if(ha){clearTimeout(ha);ha=null;}}function pa(ra){var sa=j.find(fa,'*',y);if(ga){var ta=m.get(ga),ua=m.get(fa),va=na(ua,ta,ra);ma(ga);va.listen('finally',function(){var wa=j.find(fa,'*',z);j.hide(wa);ka(fa);});va.send();j.hide(ga);j.hide(sa);j.find(sa,'*',ba).blur();ga=null;}ha=g(function(){ka(fa);},da);}var qa=function(ra,sa){if(t)return;fa=ra;t=true;var ta='touchend';if(r.IS_ANDROID)ta='click';if(sa&&sa.use_faceboxes){ia=[k.listen(ta,u,function(event){if(ga){var va=j.find(fa,'*',y);j.find(va,'*',ba).blur();j.hide(va);ga=null;event.kill();}else ka(event.getNode(u));}),k.listen(ta,w,function(event){var va=j.find(fa,'*',ca),wa=event.getNode(w);oa(wa,va);event.kill();}),k.listen(ta,ca,function(event){var va=event.getNode(ca),wa=j.find(va,'*',ba);wa.focus();if(ga)q.scrollTo(wa,l.getPos(ga).y);event.kill();}),k.listen('Tokenizer-addedtoken',null,function(event){pa(event.getData().rel);})];}else ia=[k.listen('touchend',u,function(event){ka(event.getNode(u));})];ia.push(k.listen('m:page:unload',null,la));var ua=j.scry(fa,'*',v);if(ua.length>0&&m.get(ua[0]).imgsrc){s(m.get(ua[0]).imgsrc,function(){return ka(fa);});}else ka(fa);};f.main=qa;},null);
__d("MTouchAfro",["$","CSS","cx","DataStore","DOM","fbt","ge","MModalDialog","MRequest","MXUIDiv.react","Parent","React","Stratcom","Set","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){b.__markCompiled&&b.__markCompiled();var v=null,w=null,x=null,y={initUndoHide:function(){if(v!==null)return;v=s.listen('click','afro-undo-hide',function(z){var aa=z.getNode('undo-content'),ba=j.get(aa).storyDomID;k.hide(aa);k.show(g(ba));});s.listen('m:page:unload',null,function(){v.remove();s.removeCurrentListener();});},hideOriginalContent:function(z){k.hide(g(z));},initDoneListener:function(z,aa){if(w!==null)return;w=s.listen('click','nfx-dialog-done',function(ba){if(z){var ca=g(z);if(ca){var da=j.get(ca).enhancedAfro;if(da)h.addClass(ca,"_2gft");}r.render(r.createElement(p,{padding:"large",fontshade:"medium",fontweight:"bold"},l._("Thanks for letting us know.")),g(z));if(aa){var ea=m(aa);if(ea){k.remove(ea);h.removeClass(q.byClass(g(z),"_2b01"),"_2b01");}}}n.close();});s.listen('m:page:unload',null,function(){w.remove();s.removeCurrentListener();});},showConfirmationPopup:function(z,aa){var ba=confirm(z);if(ba){var ca=new o(aa);ca.send();}},showInlineConfirmation:function(z,aa){var ba=g(z);k.hide(ba);k.insertAfter(ba,aa);},redirect:function(z,aa){if(!aa){window.location=z;}else{var ba=new o(z);ba.send();}},redirectOnClick:function(z,aa){s.listen('click',aa,function(ba){window.location=z;});},openDialog:function(z){n.open(z);},openDialogOnClick:function(z,aa){var ba=s.listen('click',aa,function(ca){n.open(z);});s.listen('m:page:unload',null,function(){ba.remove();s.removeCurrentListener();});},initActionsTakenStore:function(){if(x!==null)return;x=new t();var z=s.listen('m-nfx-action-taken',null,function(aa){return x.add(aa.getData());});s.listen('m:page:unload',null,function(){z.remove();s.removeCurrentListener();});},clearActionsTakenStore:function(){x=new t();},invokeActionTaken:function(z){s.invoke('m-nfx-action-taken',null,z);},showActionsInStoreAsCompletedGAScreen:function(z){var aa=k.scry(z,'div','nfx-action-group');aa.forEach(function(ba){if(y.checkActionAgainstStore(ba)){var ca=k.find(ba,'ul','nfx-action-group-uncompleted'),da=k.scry(ba,'ul','nfx-action-group-completed');if(da.length>0){h.hide(ca);h.show(da[0]);}}});},renderConfirmationScreen:function(z,aa,ba){var ca=0,da=false,ea=k.scry(z,'div','nfx-confirmation-screen-action');ea.forEach(function(ha){if(y.checkActionAgainstStore(ha)){h.show(ha);ca++;if(j.get(ha).action==='REPORT_CONTENT')da=true;}else k.remove(ha);});var fa='';if(ca===0){if(ba){fa='no-action-taken';}else{h.show(z);fa='no-action-available';}}else{if(!ba)h.show(z);fa='action-taken';}var ga=k.find(z,'header','nfx-confirmation-header-'+fa);h.show(ga);if(da)h.hide(aa);if((aa.childNodes.length===0||aa.style.display==='none')&&z.style.display==='none')if(w===null){n.close();}else s.invoke('click','nfx-dialog-done');},checkActionAgainstStore:function(z){var aa=j.get(z),ba=false;x.forEach(function(ca){if(ca.action===aa.action&&ca.label===aa.label)ba=true;});return ba;},dialogLoadConfirmationScreenOnClick:function(z,aa){k.listen(z,'click',null,function(ba){ba.kill();var ca=new u(aa);ca.addQueryData('g_actions',JSON.stringify(Array.from(x)));n.load(ca.toString());});}};e.exports=y;},null);
__d("SaveState",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={SAVING:'saving',SAVED:'saved',UNSAVING:'unsaving',UNSAVED:'unsaved'};e.exports=g;},null);
__d("SaveStateHandler",["SaveState"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=null;function i(){"use strict";this.$SaveStateHandler0={};this.$SaveStateHandler1={};}i.prototype.addListener=function(j,k){"use strict";if(!this.$SaveStateHandler0[j])this.$SaveStateHandler0[j]=[];this.$SaveStateHandler0[j].push(k);};i.prototype.setState=function(j,k){"use strict";j.forEach(function(l){this.$SaveStateHandler1[l]=k;if(!this.$SaveStateHandler0[l])return;var m=this.$SaveStateHandler0[l];m.forEach(function(n){try{n.call(window,k);}catch(o){}});},this);};i.prototype.getState=function(j){"use strict";return this.$SaveStateHandler1[j];};i.$SaveStateHandler2=function(){"use strict";if(!h)h=new i();return h;};i.listen=function(j,k){"use strict";this.$SaveStateHandler2().addListener(j,k);};i.getState=function(j){"use strict";return this.$SaveStateHandler2().getState(j);};i.saving=function(j){"use strict";this.$SaveStateHandler2().setState(j,g.SAVING);};i.saved=function(j){"use strict";this.$SaveStateHandler2().setState(j,g.SAVED);};i.unsaving=function(j){"use strict";this.$SaveStateHandler2().setState(j,g.UNSAVING);};i.unsaved=function(j){"use strict";this.$SaveStateHandler2().setState(j,g.UNSAVED);};i.isSaveAction=function(j){"use strict";var k=this.$SaveStateHandler2().getState(j);return (k==g.UNSAVED||k==g.UNSAVING);};i.isInTransition=function(j){"use strict";var k=this.$SaveStateHandler2().getState(j);return (k==g.SAVING||k==g.UNSAVING);};e.exports=i;},null);
__d("MAsyncPageLoadWithGraphSearch",["Stratcom","CSS","cx","csx"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k='graph-search-entry-point',l={pageLoad:function(m){g.invoke('setSearchText',k,{title:m.searchTitle||''});g.invoke('setCurrentProfileID',k,{profileID:m.currentProfileID||''});}};e.exports=l;},null);
__d("MAnimator",["cancelAnimationFrame","requestAnimationFrame"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(){"use strict";}i.prototype.dispose=function(){"use strict";if(!this._disposed){this.stop();for(var j in this)delete this[j];this._disposed=true;}};i.prototype.start=function(j,k,l,m,n){"use strict";if(this._disposed)return;this.stop();m=m||250;n=n||i.easeOutCubic;var o=0,p=0,q=Date.now();this._value=0;this._onStopCallback=l;this._animating=true;var r=function(){var s=Date.now(),t;if(k!==null&&!k()){t=true;}else{o=(s-q+1)/m;if(o>1)o=1;p=n?n(o):o;this._value=p;}if(t||j(p,this._animating,s)===false||o===1){j=null;k=null;o=null;n=null;o=null;r=null;this.stop();return;}this._animID=h(r);}.bind(this);this._animID=h(r);};i.prototype.stop=function(){"use strict";if(this._disposed)return;if(this._animating){this._animating=false;g(this._animID);this._onStopCallback&&this._onStopCallback(this._value,this._animating,Date.now());delete this._animID;delete this._onStopCallback;this._value=0;}};i.play=function(j,k,l,m,n){"use strict";var o=new i(),p=k-j,q=function(s){return m(j+(p*s));},r=function(s){q(s);q=null;p=null;m=null;k=null;j=null;};o.start(q,null,r,l,n);return o;};i.easeOutCubic=function(j){"use strict";return (Math.pow((j-1),3)+1);};i.easeInOutCubic=function(j){"use strict";if((j/=.5)<1)return .5*Math.pow(j,3);return .5*(Math.pow((j-2),3)+2);};Object.assign(i.prototype,{_value:0});e.exports=i;},null);
__d("MModalDialogLink",["DataStore","Stratcom","MModalDialog","MPageController"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k='dialog-link';h.listen('click',k,function(l){l.prevent();var m=l.getNode(k);switch(m.getAttribute('rel')){case 'dialog':i.open(g.get(l.getNode(k)).dialogURI,function(n){if(n)if(n.redirectURI){j.forceLoad(n.redirectURI);}else if(n.refresh)j.reload();},m.getAttribute('data-loading-title'));break;case 'dialog-close':i.close({redirectURI:g.get(l.getNode(k)).dialogURI,goBack:true});break;case 'dialog-close-and-refresh':i.close({refresh:true,goBack:true});break;}});},null);
__d("MShareFlyout",["setTimeoutAcrossTransitions","cx","CSS","DOM","DataStore","fbt","MCompositionConfigFields","MCompositionShareFields","MComposition","MComposerEntry","MComposerTypes","MCompositionStoreID","MModalDialog","MViewport","MRequest","Banzai","Stratcom","Vector","URI","SaveStateHandler"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){b.__markCompiled&&b.__markCompiled();var aa='mufi-inline',ba='save-action-title',ca='shareSaveButton',da='share-one-click-button',ea="share-with-message-button",fa="share-in-a-private-message-button",ga='oneClickShareResult',ha=6000,ia='/a/sharer.php',ja='/sharer-dialog.php',ka='saved_for_later:caret_action',la='imp',ma,na,oa,pa,qa,ra,sa={},ta={},ua=[],va,wa;function xa(jb,kb,lb){if(ma)return;va=kb;ma=jb;na=jb.getRoot();wa=lb;s.init();db();}function ya(){var jb=new u(ia);jb.setMethod('POST');jb.addData({m:'oneclick',privacyx:va,sid:pa,shareID:pa,fs:qa,internal_preview_image_id:oa});jb.send();ma.hide();}function za(event){var jb=k.get(ma.getCausalElement()).saveInfo,kb=z.isSaveAction(jb.primarySaveID),lb,mb=z.isInTransition(jb.primarySaveID);if(mb)return;if(kb){lb=new u(jb.saveURI);lb.setMethod('POST');z.saving(jb.allSaveIDs);}else{lb=new u(jb.unsaveURI);lb.setMethod('POST');z.unsaving(jb.allSaveIDs);}lb.listen('error',function(){var nb=!z.isSaveAction(jb.primarySaveID);if(nb){z.unsaved(jb.allSaveIDs);}else z.saved(jb.allSaveIDs);});lb.send();ma.hide();}function ab(){if(wa){var jb={};jb[n.ID]=pa;jb[n.FEEDBACK_SOURCE]=qa;var kb={};kb[m.COMPOSER_TYPE]=q.SHARE;kb[m.COMPOSER_TITLE]=(l._("Share"));kb[m.CONTEXTUAL_MESSAGE]=(l._("Share on your timeline"));kb[m.PLACEHOLDER]=(l._("Write something..."));kb[m.DISABLE_PHOTOS]=true;var lb=t.getScrollTop();p.invoke(new o().setStoreData(r.CONFIG,kb).setStoreData(r.SHARE,jb))['finally'](function(){return t.scrollTo(0,lb);});}else{s.open(new y(ja).setQueryData({fs:qa,sid:pa,_ft_:ra,internal_preview_image_id:oa}).toString());ma.hide();}}function bb(){s.open(new y(ja).setQueryData({fs:qa,m:'message',sid:pa,u:window.location.href,internal_preview_image_id:oa}).toString());ma.hide();}function cb(jb,kb){v.post(ka,{action:la,surface:jb.surface,story_id:jb.story_id,is_save:kb});}function db(){ua=[ma.addListener('beforeshow',function(){var jb=ma.getCausalElement(),kb=k.get(jb),lb=kb.saveInfo,mb=j.scry(na,'*',ca)[0];if(lb){var nb=lb.primarySaveID,ob=z.isSaveAction(nb),pb=z.isInTransition(nb);j.show(mb);var qb=j.find(mb,'div',ba);qb.textContent=ob?lb.saveTitle:lb.unsaveTitle;i.conditionClass(mb,"_kh1",pb);cb(lb.logData,ob);}else if(mb)j.hide(mb);pa=kb&&kb.share_id;qa=kb&&kb.feedback_source;oa=kb&&kb.internal_preview_image_id;var rb=new y(jb.href);ra=rb.getQueryData()._ft_;if(pa)sa[pa]=fb(jb);}),w.listen('click',da,ya),w.listen('click',ea,ab),w.listen('click',fa,bb),w.listen('click',ca,za),w.listen('m:page:unload',null,eb)];}function eb(){ma=null;for(var jb in ta)clearTimeout(ta[jb]);ta={};while(ua.length)ua.pop().remove();}function fb(jb){while(jb&&!w.hasSigil(jb,aa))jb=jb.parentNode;return jb;}function gb(jb,kb){var lb=j.scry(jb,'div',ga);lb[0]&&j.remove(lb[0]);var mb=j.create('div',{className:"_4_m7"},kb);w.addSigil(mb,ga);j.appendContent(jb,mb);return mb;}function hb(jb,kb){var lb=sa[kb];delete sa[kb];if(!lb)return;var mb=gb(lb,jb),nb=x.getPos(lb),ob=x.getDim(lb).y,pb=t.getScrollTop(),qb=t.getScrollHeight();if(nb.y<pb||nb.y+ob>pb+qb)t.scrollTo(nb.x,nb.y-250);ta[kb]=g(function(){delete ta[kb];j.remove(mb);},ha);}function ib(jb,kb){var lb=sa[kb];delete sa[kb];if(!lb)return;if(x.getPos(lb).y>=t.getScrollTop()){var mb=gb(lb,jb);ta[kb]=g(function(){delete ta[kb];if(x.getPos(lb).y>=t.getScrollTop())j.remove(mb);},ha);}}f.init=xa;f.onSuccess=ib;f.onFailure=hb;},null);
__d("MImagePreloader",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){for(var i=0;i<h.length;i++){var j=new Image();j.src=h[i];}}f.init=g;},null);
__d("XLtgPostTranslationController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/intl\/see_translation\/",{ftid:{type:"String",required:true}});},null);
__d("XLtgCommentTranslationController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/intl\/comment_translation\/",{ftid:{type:"String",required:true},commentid:{type:"String",required:true}});},null);
__d("MSeeTranslation",["cx","CSS","DOM","fbt","Stratcom","Locale","MRequest","XLtgPostTranslationController","XLtgCommentTranslationController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p='m-see-translate-link',q='m-see-translate-link-comment',r=false;function s(w){var x=w.getNode(p),y=x.getAttribute('data-targetid'),z=n.getURIBuilder().setString('ftid',y).getURI();u(z,x);w.prevent();}function t(w){var x=w.getNode(q),y=x.getAttribute('data-targetid'),z=x.getAttribute('data-commentid'),aa=o.getURIBuilder().setString('ftid',y).setString('commentid',z).getURI();u(aa,x);w.prevent();}function u(w,x){var y=new m(w);y.listen('done',function(z){var aa=z.payload.text||j._("No translation available"),ba=i.create('div',{className:"_3nc6"},aa);h.addClass(ba,l.isRTL()?"_3nc7":"_3nc8");i.replace(x,ba);});y.send();}var v={listenOnSeeTranslate:function(){if(r)return;k.listen('click',p,s);k.listen('click',q,t);r=true;}};e.exports=v;},null);
__d("MContextualThing",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=0,h={register:function(i,j){j.id=j.id||('ctxtlayer_'+g++);i.setAttribute('data-ownerid',j.id);},containsIncludingLayers:function(i,j){while(j){if(i.contains(j))return true;j=h.getContext(j);}return false;},getContext:function(i){var j;while(i){if(i.getAttribute&&(j=i.getAttribute('data-ownerid')))return document.getElementById(j);i=i.parentNode;}return null;}};e.exports=h;},null);
__d("MLayer",["setTimeoutAcrossTransitions","BehaviorsMixin","CSS","DataStore","DOM","MContextualThing","mixin","mixInEventEmitter","MTouchHelper","Stratcom","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=[],s={},t=m(h);for(var u in t)if(t.hasOwnProperty(u))w[u]=t[u];var v=t===null?null:t.prototype;w.prototype=Object.create(v);w.prototype.constructor=w;w.__superConstructor__=t;function w(aa){"use strict";t.call(this);this.config=aa||{};this.$MLayer0=null;this.$MLayer1=false;this.$MLayer2=false;this.$MLayer3=null;}w.prototype.init=function(aa){"use strict";if(this.config.layerid){if(s[this.config.layerid])return;s[this.config.layerid]=this;}this.configure(this.config,aa);var ba=this.config.addedBehaviors||[];this.enableBehaviors(this.getDefaultBehaviors().concat(ba));var ca=q("flyout-nocontext-root");if(!ca)ca=k.create('div',{id:'flyout-nocontext-root'});k.appendContent(document.body,ca);k.appendContent(ca,this.getRoot());k.hide(this.getRoot());};w.prototype.configure=function(aa,ba){"use strict";this.$MLayer0=this.buildWrapper(aa,ba);p.addSigil(this.$MLayer0,'m-layer-root');var ca=aa.attributes;if(ca){if(ca.sigil){var da=ca.sigil.split(' ');da.forEach(function(fa){p.addSigil(this.$MLayer0,fa);},this);delete ca.sigil;}for(var ea in ca)this.$MLayer0.setAttribute(ea,ca[ea]);}if(aa.classNames)aa.classNames.forEach(function(fa){i.conditionClass(this.$MLayer0,fa,true);},this);if(aa.causalElement)this.$MLayer3=aa.causalElement;j.set(this.$MLayer0,{layer:this});};w.prototype.getDefaultBehaviors=function(){"use strict";return [];};w.prototype.getCausalElement=function(){"use strict";return this.$MLayer3;};w.prototype.setCausalElement=function(aa){"use strict";this.$MLayer3=aa;return this;};w.prototype.getInsertParent=function(){"use strict";return this.insertParent||document.body;};w.prototype.getRoot=function(){"use strict";return this.$MLayer0;};w.prototype.getContentRoot=function(){"use strict";return this.$MLayer0;};w.prototype.buildWrapper=function(aa,ba){"use strict";return ba;};w.prototype.setInsertParent=function(aa){"use strict";if(aa){if(this.$MLayer1&&aa!==this.getInsertParent()){k.appendContent(aa,this.getRoot());this.updatePosition();}this.insertParent=aa;}return this;};w.prototype.show=function(){"use strict";if(this.$MLayer1)return this;var aa=this.getRoot(),ba=this.getInsertParent();if(aa.parentNode!==ba)k.appendContent(ba,aa);this.emit('beforeshow');aa.style.visibility='hidden';aa.style.overflow='hidden';k.show(aa);if(this.updatePosition()!==false){this.$MLayer1=true;this.emit('show');p.invoke('Layer:show',null,this);g(function(){if(this.$MLayer1)r.push(this);}.bind(this));}else k.hide(aa);aa.style.visibility='';aa.style.overflow='';this.emit('aftershow');return this;};w.prototype.hide=function(){"use strict";if(this.$MLayer2||!this.$MLayer1||this.emit('beforehide')===false)return this;this.$MLayer2=true;if(this.emit('starthide')!==false)this.finishHide();return this;};w.prototype.conditionShow=function(aa){"use strict";return aa?this.show():this.hide();};w.prototype.finishHide=function(){"use strict";if(this.$MLayer1){r.splice(r.indexOf(this),1);this.$MLayer2=false;this.$MLayer1=false;k.hide(this.getRoot());this.emit('hide');p.invoke('m:layer:hide',null,this);}return this;};w.prototype.isShown=function(){"use strict";return this.$MLayer1;};w.prototype.updatePosition=function(){"use strict";return true;};w.prototype.updateIfShown=function(){"use strict";this.isShown()&&this.updatePosition();};w.prototype.isDestroyed=function(){"use strict";return this.destroyed;};w.prototype.destroy=function(){"use strict";if(this.destroyed)return;this.destroyed=true;this.finishHide();var aa=this.getRoot();k.remove(aa);this.destroyBehaviors();this.emit('destroy');p.invoke('Layer:destroy',null,this);delete j.get(aa).layer;this.$MLayer0=this.$MLayer3=null;if(this.config.layerid)delete s[this.config.layerid];this.config=null;};n(w,{destroy:true,blur:true,beforeshow:true,show:true,aftershow:true,beforehide:true,starthide:true,hide:true});Object.assign(w,{show:function(aa){aa.show();}});var x;function y(event){x=o.getTouchClientCoord(event);}function z(event){var aa=r.length;if(!aa)return;var ba=event.getTarget(),ca=event.getType();if(!document.documentElement.contains(ba))return;if(ca==='touchend'&&x){var da=o.getTouchClientCoord(event),ea=Math.sqrt(Math.pow(x.x-da.x,2)+Math.pow(x.y-da.y,2));x=null;if(ea>5)return;}while(aa--){var fa=r[aa];if(!fa.isShown())continue;var ga=fa.getContentRoot();if(l.containsIncludingLayers(ga,ba))return;var ha=fa.getCausalElement();if(ca==="touchend"&&(ha.contains(ba)||ha===ba))continue;if(fa.emit('blur')===false||fa.isShown())return;}}p.listen('touchstart',null,y);p.listen('click',null,z);p.listen('touchend',null,z);e.exports=w;},null);
__d("MLayerDestroyOnTransition",["Stratcom"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){"use strict";this.$MLayerDestroyOnTransition0=null;this.$MLayerDestroyOnTransition1=i;}h.prototype.enable=function(){"use strict";this.$MLayerDestroyOnTransition0=g.listen('m:page:unload',null,this.$MLayerDestroyOnTransition1.destroy.bind(this.$MLayerDestroyOnTransition1));};h.prototype.disable=function(){"use strict";this.$MLayerDestroyOnTransition0.remove();this.$MLayerDestroyOnTransition0=null;};e.exports=h;},null);
__d("MLayerHideOnBlur",["DOM","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g.create('div',{className:"_5so"});function j(k){"use strict";this.$MLayerHideOnBlur0=null;this.$MLayerHideOnBlur1=null;this.$MLayerHideOnBlur2=k;}j.prototype.enable=function(){"use strict";this.$MLayerHideOnBlur0=[this.$MLayerHideOnBlur2.addListener('show',this.$MLayerHideOnBlur3.bind(this)),this.$MLayerHideOnBlur2.addListener('hide',this.$MLayerHideOnBlur4.bind(this))];if(this.$MLayerHideOnBlur2.isShown())this.$MLayerHideOnBlur3();};j.prototype.disable=function(){"use strict";this.$MLayerHideOnBlur4();while(this.$MLayerHideOnBlur0.length)this.$MLayerHideOnBlur0.pop().remove();this.$MLayerHideOnBlur0=null;};j.prototype.$MLayerHideOnBlur4=function(){"use strict";this.$MLayerHideOnBlur1&&this.$MLayerHideOnBlur1.remove();this.$MLayerHideOnBlur1=null;};j.prototype.$MLayerHideOnBlur3=function(){"use strict";g.insertAfter(this.$MLayerHideOnBlur2.getRoot(),i);this.$MLayerHideOnBlur1=this.$MLayerHideOnBlur2.addListener('blur',function(){this.$MLayerHideOnBlur2.hide();}.bind(this));var k=g.listen(document.body,'click',null,function(l){if(!this.$MLayerHideOnBlur1){k.remove();g.remove(i);}});};e.exports=j;},null);
__d("MLiveData",["MDeepCopy","Stratcom","eventsMixinDeprecated"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={},k={},l,m={},n,o;function p(r){"use strict";this.$MLiveDataObject0=r;}p.prototype.getData=function(){"use strict";return g(j[this.$MLiveDataObject0]||{});};i(p,['change']);var q={_set:function(r,s,t){var u=j[r],v=u&&u.timestamp&&s.timestamp&&u.timestamp>s.timestamp;if(o||v)return;if(!u||t){j[r]=s;}else Object.assign(j[r]||{},s);if(!k[r])k[r]=new p(r);k[r].invoke('change');},update:function(r,s){this._set(r,s);},set:function(r,s){this._set(r,s,true);},get:function(r){if(!l)l=h.listen('m:page:render:cache:start',null,function(){o=true;h.listen('m:page:iui:response:complete',null,function(){o=false;h.removeCurrentListener();Object.keys(m).forEach(function(s){var t=j[s];if(t&&Object.keys(t).length)k[s].invoke('change');});});});if(!m[r])m[r]=true;if(!n)n=h.listen('m:page:unload',null,function(){m={};});if(!k[r])k[r]=new p(r);return k[r];}};e.exports=q;},null);
__d("MActionBubbleHelper",["CSS","Stratcom","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j='enabled_action';e.exports.toggleActionBubbleItem=function(k,l){g.conditionClass(k,"_58a0",l);if(l){h.addSigil(k,j);}else h.removeSigil(k,j);};},null);
__d("MCommentActionsFlyout",["DOM","DataStore","MModalDialog","MParent","MRequest","Stratcom","URI","MActionBubbleHelper"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o='editCommentSigil',p='deleteCommentSigil',q='hideCommentSigil',r='reportCommentSigil',s='commentFlyoutSigil';function t(da,ea,fa){var ga=g.find(da,'*',ea);n.toggleActionBubbleItem(ga,fa);}function u(da){var ea=j.bySigil(da,'comment-metadata');return ea;}function v(da,ea){var fa=h.get(ea);da.addQueryData('_ft_',fa.linkdata);}function w(da,ea){v(ea,da);var fa=new k(ea);fa.send();}function x(da,ea){i.open(ea);}function y(){var da=u(this.getCausalElement()),ea=this.getRoot(),fa=h.get(da);t(ea,o,!!(fa.editCommentURI));t(ea,p,!!(fa.deleteCommentURI));t(ea,q,!!(fa.hideCommentURI));t(ea,r,!!(fa.reportCommentURI));}function z(da){var ea=h.get(da.getNode(s)),fa=u(ea.layer.getCausalElement()),ga=h.get(fa);if(da.getNode(o)){w(fa,new m(ga.editCommentURI));}else if(da.getNode(p)){w(fa,new m(ga.deleteCommentURI));}else if(da.getNode(q)){w(fa,new m(ga.hideCommentURI));}else if(da.getNode(r))if(ga.reportIsModalDialog){x(fa,new m(ga.reportCommentURI));}else w(fa,new m(ga.reportCommentURI));ea.layer.hide();da.kill();}var aa,ba,ca=function(da){if(aa)return;aa=da;var ea=da.getRoot();l.addSigil(ea,s);ba=[l.listen('m:page:unload',null,function(){while(ba.length>0)ba.pop().remove();aa=null;}),da.addListener('beforeshow',y,da),g.listen(ea,'click',null,z)];};e.exports={registerFlyout:ca};},null);
__d("MUFI",["ClientIDs","MLiveData","Stratcom"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j='m_live_ufi',k,l=function(event){var o=event.getData();if(o)m(o);};function m(o){var p=o.feedback_data,q=p&&p.ft_ent_identifier;if(q){var r=o.action_data;if(r){if(r.client_id&&g.isExistingClientID(r.client_id))return;delete r.client_id;if(r.action_type==='m-action-add-comment'){var s=h.get(q).getData().comments||[];s.push(r.comment_id);p.comments=s;h.set(r.comment_id,r);}}h.update(q,p);}}function n(){if(!k)k=i.listen(j,null,l);}e.exports={addAction:m,init:n};},null);
__d("MUFIRequest",["ClientIDs","MLiveData","MRequest","MURI","Stratcom"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=j.getHashPrefixRegex(),m={};function n(p){var q=new j(p),r=q.getFragment();if(l.test(r))q=new j(r.replace(l,'/'));return q.setProtocol(null).setDomain(null).setFragment(null);}function o(p,q,r){q.request_id=null;h.update(p,q);if(m[p])m[p].abort();r.addQueryData('client_id',g.getNewClientID());var s=new i(r.toString());s.listen('finally',(function(){m[p]=null;}).bind(this));s.listen('postprocess',function(){k.invoke('m:ajax:complete');});s.setAutoRetry(true);m[p]=s;s.send();}e.exports={getURI:n,send:o};},null);
__d("MUFILikeButton",["ActorURI","CSS","DataStore","DOM","MLiveData","MParent","MUFIRequest","Stratcom","SubscriptionsHandler","UFIReactionTypes","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s={is_like:1},t={is_like:0},u=1,v=0,w=p.reactions;function x(y,z,aa,ba){"use strict";this.$MUFILikeButton0=y;this.$MUFILikeButton1=k.get(z);this.$MUFILikeButton2=z;this.$MUFILikeButton3=aa;this.$MUFILikeButton4=ba;this.$MUFILikeButton5=new o();this.$MUFILikeButton5.addSubscriptions(j.listen(this.$MUFILikeButton0,'click',null,this.onClick.bind(this)),this.$MUFILikeButton1.listen('change',this.onChange.bind(this)),n.listen('m:page:unload',null,this.onUnload.bind(this)));}x.prototype.onChange=function(){"use strict";if(this.$MUFILikeButton1.getData().request_id===this.$MUFILikeButton4)return;var y=this.$MUFILikeButton1.getData().has_viewer_liked,z=this.$MUFILikeButton1.getData().viewer_reaction||(y?u:v);h.conditionClass(this.$MUFILikeButton0,"_2q8z",y||z);if(z!==v&&z!=u){h.removeClass(this.$MUFILikeButton0,"_15ko");h.addClass(this.$MUFILikeButton0,"_3vg7");j.setContent(this.$MUFILikeButton0,w[z].display_name);}else{h.addClass(this.$MUFILikeButton0,"_15ko");j.setContent(this.$MUFILikeButton0,r._("Like"));}for(var aa in w)h.conditionClass(this.$MUFILikeButton0,w[aa].m_classname,z==aa);n.removeSigil(this.$MUFILikeButton0,y?'like':'unlike');n.addSigil(this.$MUFILikeButton0,y?'unlike':'like');};x.prototype.onClick=function(event){"use strict";event.prevent();var y=this.$MUFILikeButton1.getData(),z=y.has_viewer_liked,aa=m.getURI(event.getNode('tag:a').getAttribute('href'));if(z){aa.addQueryData('ul',true);}else aa.removeQueryData('ul');var ba=l.bySigil(this.$MUFILikeButton0,'feed-ufi-metadata');if(ba){var ca=i.get(ba).actor_id;if(ca)aa=g.create(aa,ca);}m.send(this.$MUFILikeButton2,{has_viewer_liked:!z,like_count:z?y.like_count-1:y.like_count+1,like_counts:[y.like_counts[1]||null,y.like_counts[0]],like_friend_sentences:[y.like_friend_sentences[1]||null,y.like_friend_sentences[0]],like_sentences:[y.like_sentences[1]||null,y.like_sentences[0]],viewer_reaction:z?v:u},aa);if(this.$MUFILikeButton3&&this.$MUFILikeButton3.log)this.$MUFILikeButton3.log('like',(void 0),z?t:s);};x.prototype.onUnload=function(){"use strict";this.$MUFILikeButton5.release();this.$MUFILikeButton5=null;};e.exports=x;},null);
__d("MUFICommentLikeLinkAndCount",["DOM","MUFILikeButton","MLiveData","MUFIRequest","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=k._("Like"),m=k._("Unlike");for(var n in h)if(h.hasOwnProperty(n))p[n]=h[n];var o=h===null?null:h.prototype;p.prototype=Object.create(o);p.prototype.constructor=p;p.__superConstructor__=h;function p(q,r,s,t){"use strict";h.call(this,q,s,t);this.$MUFICommentLikeLinkAndCount0=s;this.$MUFICommentLikeLinkAndCount1=q;this.$MUFICommentLikeLinkAndCount2=r;this.$MUFICommentLikeLinkAndCount3=i.get(s);this.$MUFICommentLikeLinkAndCount4=t;}p.prototype.onChange=function(){"use strict";if(this.$MUFICommentLikeLinkAndCount3.getData().request_id===this.$MUFICommentLikeLinkAndCount4)return;o.onChange.call(this);var q=this.$MUFICommentLikeLinkAndCount3.getData();g.setContent(this.$MUFICommentLikeLinkAndCount1,q.has_viewer_liked?m:l);g.setContent(this.$MUFICommentLikeLinkAndCount2,q.like_count?q.like_count+'':null);};p.prototype.onClick=function(event){"use strict";event.prevent();var q=this.$MUFICommentLikeLinkAndCount3.getData(),r=q.has_viewer_liked,s=(q.comment_id||q.ft_ent_identifier).split('_')[1],t=j.getURI(event.getNode('tag:a').getAttribute('href'));if(r){t.addQueryData('unlike_comment_id',s).removeQueryData('like_comment_id',s);}else t.addQueryData('like_comment_id',s).removeQueryData('unlike_comment_id',s);j.send(this.$MUFICommentLikeLinkAndCount0,{has_viewer_liked:!r,like_count:r?q.like_count-1:q.like_count+1},t);};e.exports=p;},null);
__d("MUFIComposerFocus",["DataStore","DOM","MParent","Parent","Stratcom"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l='mufi-composer-focus',m;function n(s){var t=[];while(s.parentNode){t.unshift(s);s=s.parentNode;}return t;}function o(s){var t=h.scry(document.body,'*','mufi-composer');if(t.length===1)return t[0];var u=n(s),v=t.reduce(function(w,x,y){var z=n(x).reduce(function(aa,ba,ca){return ba===u[ca]?ca:Math.min(ca,aa);},0);return (z>=w[0])?[z,x]:w;},[0,null]);return v[1];}function p(event){var s=o(event.getNode(l));if(s){event.prevent();s.focus();}}function q(event){var s=event.getNode(l),t=o(s);if(t){var u=i.bySigil(s,'touchable');if(u)g.get(u).nativeClick=true;var v=j.byTag(s,'a');if(v)v.href='#'+h.uniqID(t);}}function r(){if(!m){k.listen('touchstart',l,q);k.listen('click',l,p);m=true;}}e.exports={init:r};},null);
__d("MUFISocialSentence",["CSS","DOM","MLiveData","Stratcom","SubscriptionsHandler","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();function m(n,o,p,q,r){"use strict";this.$MUFISocialSentence0=n;this.$MUFISocialSentence1=i.get(o);this.$MUFISocialSentence2=q;this.$MUFISocialSentence3=r;this.$MUFISocialSentence4=p;this.$MUFISocialSentence5=new k();this.$MUFISocialSentence5.addSubscriptions(this.$MUFISocialSentence1.listen('change',this.onChange.bind(this)),j.listen('m:page:unload',null,this.onUnload.bind(this)));}m.prototype.onChange=function(){"use strict";var n=this.$MUFISocialSentence1.getData();if(n.request_id===this.$MUFISocialSentence3)return;g.removeClass(this.$MUFISocialSentence0,'like_opt');var o=n.like_count?n[this.$MUFISocialSentence2][0]:null,p=this.$MUFISocialSentence4&&n.comment_count?n.comment_count:null;if(o){var q=this.$MUFISocialSentence2!=='like_counts'&&!n.like_fallback&&p?'div':'span';o=h.create(q,null,o);}if(p){p=p>1?l._({"*":"{count} Comments"},[l.param("count",p,[0])]):l._({"*":"{count} Comment"},[l.param("count",p,[0])]);p=h.create('span',{},p);}h.setContent(this.$MUFISocialSentence0,[o,p]);};m.prototype.onUnload=function(){"use strict";this.$MUFISocialSentence5.release();this.$MUFISocialSentence5=null;};e.exports=m;},null);
__d("MFlyout",["CSS","DataStore","DOM","Locale","MContextualThing","MLayer","MParent","Scroll","Stratcom","Vector","MJSEnvironment","cx","emptyFunction","mixInEventEmitter"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();var u=52,v=26,w=10,x=22,y=3,z=400,aa=320,ba=['resize','m:schedulable:loaded','m:viewport:orientation-change','m:orientation-resize:complete','m:hideout:reflow','m:landscape-cover-crop:complete'],ca='flyout-causal',da=i.create('div',{className:"_5so _2wyb"});function ea(na,oa,pa){return Math.min(pa,Math.max(oa,na));}function fa(){return document.body;}var ga=[];for(var ha in l)if(l.hasOwnProperty(ha))ja[ha]=l[ha];var ia=l===null?null:l.prototype;ja.prototype=Object.create(ia);ja.prototype.constructor=ja;ja.__superConstructor__=l;function ja(na,oa){"use strict";l.call(this,na);this._contentRoot=null;this._contentWrapper=null;this._nubNode=null;this._nubAlignment=null;this._content=null;this._contextNode=null;this._parentLayer=null;this._parentSubscription=null;this._orientation=null;this._orientationClass=null;this._width=null;this._modal=null;this._contentPositioner=null;this.init(oa);}ja.prototype.configure=function(na,oa){"use strict";ia.configure.call(this,na,oa);if(na.context){this.setContext(na.context);this.setParentSubscription();o.addSigil(this.getCausalElement(),ca);var pa=h.get(this.getCausalElement());pa.flyout=this;}this.setMargin(na.margin);this.setPosition(na.position);this.setNubAlign(na.nubalign);this.setOffsetY(na.offsetY);this._content=oa;this.setWidth(na.width);this.setModal(!!na.modal);};ja.prototype.setWidth=function(na){"use strict";this._width=na;};ja.prototype.setModal=function(na){"use strict";this._modal=na;};ja.prototype.getModal=function(){"use strict";return this._modal;};ja.prototype._getLayerParentWidth=function(){"use strict";return p.getDim(this.getRoot().offsetParent).x;};ja.prototype.getMaxWidth=function(){"use strict";return Math.min(this._getLayerParentWidth(),q.IS_TABLET?aa:z);};ja.prototype._maxWidthIsApplicable=function(){"use strict";return this.getMaxWidth()!==this._getLayerParentWidth();};ja.prototype._isCustomWidth=function(){"use strict";return this._width==='auto'||this._maxWidthIsApplicable();};ja.prototype.applyWidth=function(){"use strict";var na=this._contentRoot.style;na.width='';na.maxWidth='';if(this._maxWidthIsApplicable()){var oa=this.getMaxWidth()+'px';if(this._width==='auto'){na.maxWidth=oa;}else na.width=oa;}g.conditionClass(this._contentRoot,"_556f",this._isCustomWidth());};ja.prototype.buildWrapper=function(na,oa){"use strict";this._nubNode=i.create('div',{className:"_5bn_"});this._backgroundNode=i.create('div',{className:"_5c0e"},this._nubNode);var pa=i.create('div',{className:"_5c0f"},oa);this._contentRoot=i.create('div',{className:"_5bo0"},[this._backgroundNode,pa]);if(j.isRTL())this._contentRoot.style.direction='rtl';this._contentWrapper=i.create('div',{className:"_544k"},this._contentRoot);this._contentPositioner=i.create('div',{className:"_544l"},this._contentWrapper);return this._contentPositioner;};ja.prototype.setMargin=function(na){"use strict";g.conditionClass(this._contentRoot,"_54wl",na==='large');g.conditionClass(this._contentRoot,"_55kj",na==='medium');};ja.prototype.getInsertParent=function(){"use strict";var na=this.insertParent;if(!na){var oa=this.getContext();if(oa)na=m.bySigil(oa,'context-layer-root')||fa();}return na||ia.getInsertParent.call(this);};ja.prototype.setContent=function(na){"use strict";this._content=na;i.setContent(this._contentRoot,this._content);this.updateIfShown();return this;};ja.prototype.setContext=function(na){"use strict";this._contextNode=na;};ja.prototype.getCausalElement=function(){"use strict";return ia.getCausalElement.call(this)||this.getContext();};ja.prototype.setParentSubscription=function(){"use strict";var na=this.getContext(),oa=null,pa=fa().parentNode;while(na!==pa){oa=h.get(na).layer;if(oa)break;na=na.parentNode;}if(oa===this._parentLayer)return;if(this._parentLayer&&this._parentSubscription){this._parentSubscription.remove();this._parentSubscription=null;}if(oa)this._parentSubscription=oa.subscribe('hide',this.hide.bind(this));this._parentLayer=oa;};ja.prototype.setPosition=function(na){"use strict";if(this.getOrientation().setDefaultPosition(na)){this.getOrientation().setPosition(na);this.updateIfShown();}return this;};ja.prototype.setNubAlign=function(na){"use strict";la(na);this._nubAlignment=na||'center';};ja.prototype.setOffsetY=function(na){"use strict";na=parseInt(na,10);if(this.getOrientation().setDefaultOffsetY(na))this.updateIfShown();return this;};ja.prototype.getOrientation=function(){"use strict";if(!this._orientation)this._orientation=new ma();return this._orientation;};ja.prototype.getContentRoot=function(){"use strict";return this._contentRoot;};ja.prototype.getContent=function(){"use strict";return this._content;};ja.prototype.getContext=function(){"use strict";return this._contextNode;};ja.prototype.getContextBounds=function(){"use strict";return this.getContext().getBoundingClientRect();};ja.prototype.causalClickShow=function(){"use strict";this.getContent()&&this.show();};ja.prototype.show=function(){"use strict";if(this.isShown())return this;ia.show.call(this);if(this.getModal())i.insertAfter(this._contentPositioner,da);if(this.isShown()){k.register(this.getRoot(),this.getContext());ga.push(this);if(!this.resizeListeners){var na=this.updatePosition.bind(this);this.resizeListeners=ba.map(function(oa){return o.listen(oa,null,na);});}}return this;};ja.prototype.finishHide=function(){"use strict";ga.splice(ga.indexOf(this),1);while(this.resizeListeners&&this.resizeListeners.length)this.resizeListeners.pop().remove();this.resizeListeners=null;o.invoke('m:flyout:close',null,{flyout:this});if(this.getModal())i.remove(da);return ia.finishHide.call(this);};ja.prototype.updatePosition=function(){"use strict";var na=this.getContext();if(!na)return false;if(!na.offsetParent)return false;this.applyWidth();this.emit('adjustDimensions');var oa=this.getRoot(),pa=this.getOrientation();this.emit('adjust',pa.reset());this.updateWrapperClass(pa);var qa=oa.offsetParent,ra=qa.getBoundingClientRect(),sa=this.getContextBounds(),ta=sa.left-ra.left,ua=sa.top-ra.top;if(pa.getPosition()==='below')ua+=sa.height;var va=this.getContentRoot(),wa=0;if(this._isCustomWidth()){var xa=va.clientWidth,ya=ta+Math.round(sa.width/2);wa=ea(Math.round(ya-xa/2),0,this._getLayerParentWidth()-xa);va.style.left=wa+'px';}else va.style.left='';oa.style.top=(ua+pa.getOffsetY())+'px';var za=this._nubAlignment,ab=ta;if(sa<v)za='center';if(za==='center'){ab+=Math.round(sa.width/2);}else if(this._nubAlignment==='left'){ab+=v/2;}else ab+=sa.width-v/2;var bb=va.getBoundingClientRect(),cb={left:bb.left,width:bb.width};cb.left-=ra.left;var db=y+v/2;ab=ea(ab,cb.left+db,cb.left+cb.width-db);var eb=ab-u/2-cb.left;this._nubNode.style.left=eb+'px';this.emit('reposition',pa);return true;};ja.prototype.updateNubPosition=function(na){"use strict";if(this._nubNode)this._nubNode.style.left=na+'px';};ja.prototype._toggleOrientationClass=function(na,oa){"use strict";g.conditionClass(this._contentWrapper,oa||this._orientationClass,na);};ja.prototype.updateWrapperClass=function(na){"use strict";var oa=na.getClassName();if(oa===this._orientationClass)return;if(this._orientationClass)this._toggleOrientationClass(false);this._orientationClass=oa;this._toggleOrientationClass(true);};ja.prototype.simulateOrientation=function(na,oa){"use strict";var pa=na.getClassName();if(pa===this._orientationClass){return oa();}else{if(this._orientationClass)this._toggleOrientationClass(false);this._toggleOrientationClass(true,pa);var qa=oa();this._toggleOrientationClass(false,pa);if(this._orientationClass)this._toggleOrientationClass(true);return qa;}};ja.prototype.destroy=function(){"use strict";ia.destroy.call(this);this._contextNode=null;this._contextSigil=null;this._contentRoot=null;this._contentWrapper=null;this._content=null;this._nubNode=null;this._width=null;return this;};t(ja,{adjustDimensions:true,adjust:true,reposition:true});var ka=s.thatReturnsArgument,la=s.thatReturnsArgument;function ma(){"use strict";this._default={_position:'above',_offsetY:0};this.reset();}ma.prototype.setPosition=function(na){"use strict";this._position=ka(na);return this;};ma.prototype.getOppositePosition=function(){"use strict";return ma.OPPOSITE[this.getPosition()];};ma.prototype.getPosition=function(){"use strict";return this._position||'above';};ma.prototype.getOffsetY=function(){"use strict";var na=this._offsetY||0;if(this._position==='above'){na-=x;na*=-1;}else if(this._position==='below')na-=w;return na;};ma.prototype.getClassName=function(){"use strict";var na=this.getPosition();if(na==='below'){return "_5bo1";}else if(na==='above')return "_5bo2";};ma.prototype.reset=function(){"use strict";Object.assign(this,this._default);return this;};ma.prototype.setDefaultPosition=function(na){"use strict";var oa=this._default._position;this._default._position=ka(na);return oa!==na;};ma.prototype.setDefaultOffsetY=function(na){"use strict";var oa=this._default._offsetY;this._default._offsetY=na;return oa!==na;};ma.OPPOSITE={above:'below',below:'above'};o.listen('click',ca,function(na){h.get(na.getNode(ca)).flyout.causalClickShow();});o.listen('click',['m-layer-root','mflyout-remove-on-click'],function(na){var oa=na.getNode('m-layer-root');h.get(oa).layer.hide();});e.exports=ja;},null);
__d("MActionBubbleLayout",["CSS","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j){"use strict";this.$MActionBubbleLayout0=null;this.$MActionBubbleLayout1=j;}i.prototype.enable=function(){"use strict";this.$MActionBubbleLayout0=this.$MActionBubbleLayout1.addListener('adjustDimensions',this.$MActionBubbleLayout2.bind(this));if(this.$MActionBubbleLayout1.isShown())this.$MActionBubbleLayout1.updatePosition();};i.prototype.disable=function(){"use strict";this.$MActionBubbleLayout0.remove();this.$MActionBubbleLayout0=null;if(this.$MActionBubbleLayout1.isShown())this.$MActionBubbleLayout1.updatePosition();};i.prototype.$MActionBubbleLayout2=function(){"use strict";var j=this.$MActionBubbleLayout1;this.$MActionBubbleLayout3(true);var k=this.$MActionBubbleLayout1.getContentRoot();if(k.clientWidth>=j.getMaxWidth())this.$MActionBubbleLayout3(false);};i.prototype.$MActionBubbleLayout3=function(j){"use strict";var k=this.$MActionBubbleLayout1;k.setWidth(j?'auto':'wide');k.applyWidth();g.conditionClass(k.getRoot(),"_55i0",j);};e.exports=i;},null);
__d("MFlyoutAutoFlip",["MViewport","MParent"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j){"use strict";this.$MFlyoutAutoFlip0=null;this.$MFlyoutAutoFlip1=j;}i.prototype.enable=function(){"use strict";this.$MFlyoutAutoFlip0=this.$MFlyoutAutoFlip1.addListener('adjust',this.$MFlyoutAutoFlip2.bind(this));if(this.$MFlyoutAutoFlip1.isShown())this.$MFlyoutAutoFlip1.updatePosition();};i.prototype.disable=function(){"use strict";this.$MFlyoutAutoFlip0.remove();this.$MFlyoutAutoFlip0=null;if(this.$MFlyoutAutoFlip1.isShown())this.$MFlyoutAutoFlip1.updatePosition();};i.prototype.$MFlyoutAutoFlip2=function(j){"use strict";var k=this.$MFlyoutAutoFlip3(j),l={top:0,bottom:g.getUseableHeight()},m=h.bySigil(this.$MFlyoutAutoFlip1.getRoot(),'scroll-area');if(m){var n=m.getBoundingClientRect();l={top:Math.max(n.top,l.top),bottom:Math.min(n.bottom,l.bottom)};}var o,p,q=this.$MFlyoutAutoFlip1,r=q.getContext(),s=r.getBoundingClientRect();for(o=0;o<k.length;o++){j.setPosition(k[o]);p=q.simulateOrientation(j,function(){return q.getRoot().firstChild.getBoundingClientRect();});var t=s.top+j.getOffsetY();if(j.getPosition()==='above'){t-=p.height;}else if(j.getPosition()==='below')t+=s.height;var u={top:t,bottom:t+p.height};if(u.top>=l.top&&u.bottom<=l.bottom)return;}j.setPosition(k.indexOf('below')>-1?'below':k[0]);};i.prototype.$MFlyoutAutoFlip3=function(j){"use strict";return [j.getPosition(),j.getOppositePosition()];};e.exports=i;},null);
__d("MFlyoutContextSigil",["Stratcom","DataStore","DOM","ex"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k={};function l(m){"use strict";this.$MFlyoutContextSigil0=null;this.$MFlyoutContextSigil1=m;}l.prototype.enable=function(){"use strict";var m=this.$MFlyoutContextSigil2();k[m];k[m]=this.$MFlyoutContextSigil1;this.$MFlyoutContextSigil0=g.listen('click',this.$MFlyoutContextSigil2(),this.$MFlyoutContextSigil3.bind(this));};l.prototype.disable=function(){"use strict";delete k[this.$MFlyoutContextSigil2()];this.$MFlyoutContextSigil0.remove();this.$MFlyoutContextSigil0=null;this.$MFlyoutContextSigil1=null;};l.prototype.$MFlyoutContextSigil2=function(){"use strict";var m=this.$MFlyoutContextSigil1.config;return m.causalSigil||m.contextSigil;};l.prototype.$MFlyoutContextSigil3=function(m){"use strict";var n=m.getNode(this.$MFlyoutContextSigil2()),o,p=this.$MFlyoutContextSigil1.config.contextSigil,q=this.$MFlyoutContextSigil1.config.causalSigil;if(q&&q!==p){var r=n;while(r&&r!==document.body&&!o)if(g.hasSigil(r,p)){o=r;}else{var s=i.scry(r,'*',p);o=s[0];r=r.parentNode;}}else o=n;if(this.$MFlyoutContextSigil1.getContext()!==o&&this.$MFlyoutContextSigil1.isShown()){this.$MFlyoutContextSigil1.hide();if(!this.$MFlyoutContextSigil1)return;}this.$MFlyoutContextSigil1.setCausalElement(n);this.$MFlyoutContextSigil1.setContext(o);h.get(n).flyout=this.$MFlyoutContextSigil1;if(!this.$MFlyoutContextSigil1.isShown())this.$MFlyoutContextSigil1.show();m.prevent();};e.exports=l;},null);
__d("isNodeWithinRect",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i){if(!h.getBoundingClientRect)return false;var j=h.getBoundingClientRect();return j.bottom>=i.top&&j.top<=i.bottom&&j.right>=i.left&&j.left<=i.right;}e.exports=g;},null);